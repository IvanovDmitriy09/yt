   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"smi_drv_gpio_sim.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "../switch_sdk/core/drv/smi_drv_gpio_sim.c"
  18              		.section	.text.gpio_set_dir,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	gpio_set_dir:
  25              	.LVL0:
  26              	.LFB59:
   1:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** /*******************************************************************************
   2:../switch_sdk/core/drv/smi_drv_gpio_sim.c ****  *                                                                              *
   3:../switch_sdk/core/drv/smi_drv_gpio_sim.c ****  *  Copyright (c), 2023, Motorcomm Electronic Technology Co.,Ltd.               *
   4:../switch_sdk/core/drv/smi_drv_gpio_sim.c ****  *  Motorcomm Confidential and Proprietary.                                     *
   5:../switch_sdk/core/drv/smi_drv_gpio_sim.c ****  *                                                                              *
   6:../switch_sdk/core/drv/smi_drv_gpio_sim.c ****  ********************************************************************************
   7:../switch_sdk/core/drv/smi_drv_gpio_sim.c ****  */
   8:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #include "timer.h"
   9:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  10:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  11:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  12:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define SMI_ST_CODE   0x1
  13:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define SMI_OP_READ   0x2
  14:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define SMI_OP_WRITE  0x1
  15:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define SMI_TA_CODE   0x2
  16:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  17:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** /* porting the follow macro or function according to the platform */
  18:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define GPIO_DIR_IN     0
  19:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define GPIO_DIR_OUT    1
  20:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  21:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** /* GPIO used for SMI data */
  22:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define GPIO_MDIO       GPIO_PIN_2
  23:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** /* GPIO used for SMI clock */
  24:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define GPIO_MDC        GPIO_PIN_3
  25:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** #define DELAY           1000
  26:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  27:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** static void smi_lock(void) {
  28:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	return;
  29:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
  30:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  31:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** static void smi_unlock(void) {
  32:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	return;
  33:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
  34:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  35:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** static inline void smi_delay(uint32_t delay) {
  36:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	/*
  37:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	 According to the protocol requirements, it is recommended that
  38:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	 the minimum value of MDC High Pulse Width is 160ns
  39:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	 the minimum value of MDC Low Pulse Width is 160ns
  40:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	 the minimum value of MDC Period is 400ns
  41:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	 */
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	for (uint16_t i = 0; i < delay; i++) {
  43:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
  44:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	return;
  46:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
  47:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  48:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** static int32_t gpio_set_dir(uint32_t gpioId, uint8_t dir) {
  27              		.loc 1 48 59 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		.loc 1 48 59 is_stmt 0 view .LVU1
  32 0000 08B5     		push	{r3, lr}
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
  36 0002 0346     		mov	r3, r0
  49:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	if (dir == GPIO_DIR_OUT) {
  37              		.loc 1 49 2 is_stmt 1 view .LVU2
  38              		.loc 1 49 5 is_stmt 0 view .LVU3
  39 0004 0129     		cmp	r1, #1
  40 0006 06D0     		beq	.L5
  50:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_init(GPIOA, GPIO_MODE_OUT_PP, GPIO_OSPEED_50MHZ, gpioId);
  51:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	} else {
  52:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_init(GPIOA, GPIO_MODE_IPU, GPIO_OSPEED_50MHZ, gpioId);
  41              		.loc 1 52 3 is_stmt 1 view .LVU4
  42 0008 0322     		movs	r2, #3
  43 000a 4821     		movs	r1, #72
  44              	.LVL1:
  45              		.loc 1 52 3 is_stmt 0 view .LVU5
  46 000c 0548     		ldr	r0, .L6
  47              	.LVL2:
  48              		.loc 1 52 3 view .LVU6
  49 000e FFF7FEFF 		bl	gpio_init
  50              	.LVL3:
  51              	.L3:
  53:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
  54:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  55:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	return 0;
  52              		.loc 1 55 2 is_stmt 1 view .LVU7
  56:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
  53              		.loc 1 56 1 is_stmt 0 view .LVU8
  54 0012 0020     		movs	r0, #0
  55 0014 08BD     		pop	{r3, pc}
  56              	.LVL4:
  57              	.L5:
  50:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_init(GPIOA, GPIO_MODE_OUT_PP, GPIO_OSPEED_50MHZ, gpioId);
  58              		.loc 1 50 3 is_stmt 1 view .LVU9
  59 0016 0322     		movs	r2, #3
  60 0018 1021     		movs	r1, #16
  61              	.LVL5:
  50:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_init(GPIOA, GPIO_MODE_OUT_PP, GPIO_OSPEED_50MHZ, gpioId);
  62              		.loc 1 50 3 is_stmt 0 view .LVU10
  63 001a 0248     		ldr	r0, .L6
  64              	.LVL6:
  50:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_init(GPIOA, GPIO_MODE_OUT_PP, GPIO_OSPEED_50MHZ, gpioId);
  65              		.loc 1 50 3 view .LVU11
  66 001c FFF7FEFF 		bl	gpio_init
  67              	.LVL7:
  50:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_init(GPIOA, GPIO_MODE_OUT_PP, GPIO_OSPEED_50MHZ, gpioId);
  68              		.loc 1 50 3 view .LVU12
  69 0020 F7E7     		b	.L3
  70              	.L7:
  71 0022 00BF     		.align	2
  72              	.L6:
  73 0024 00080140 		.word	1073809408
  74              		.cfi_endproc
  75              	.LFE59:
  77              		.section	.text.gpio_write_bit,"ax",%progbits
  78              		.align	1
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
  83              	gpio_write_bit:
  84              	.LVL8:
  85              	.LFB60:
  57:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  58:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** static int32_t gpio_write_bit(uint32_t gpioId, uint16_t data) {
  86              		.loc 1 58 63 is_stmt 1 view -0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 0
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90              		.loc 1 58 63 is_stmt 0 view .LVU14
  91 0000 08B5     		push	{r3, lr}
  92              		.cfi_def_cfa_offset 8
  93              		.cfi_offset 3, -8
  94              		.cfi_offset 14, -4
  59:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	gpio_bit_write(GPIOA, gpioId, data);
  95              		.loc 1 59 2 is_stmt 1 view .LVU15
  96 0002 CAB2     		uxtb	r2, r1
  97 0004 0146     		mov	r1, r0
  98              	.LVL9:
  99              		.loc 1 59 2 is_stmt 0 view .LVU16
 100 0006 0248     		ldr	r0, .L10
 101              	.LVL10:
 102              		.loc 1 59 2 view .LVU17
 103 0008 FFF7FEFF 		bl	gpio_bit_write
 104              	.LVL11:
  60:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	return 0;
 105              		.loc 1 60 2 is_stmt 1 view .LVU18
  61:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 106              		.loc 1 61 1 is_stmt 0 view .LVU19
 107 000c 0020     		movs	r0, #0
 108 000e 08BD     		pop	{r3, pc}
 109              	.L11:
 110              		.align	2
 111              	.L10:
 112 0010 00080140 		.word	1073809408
 113              		.cfi_endproc
 114              	.LFE60:
 116              		.section	.text.gpio_read_bit,"ax",%progbits
 117              		.align	1
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 122              	gpio_read_bit:
 123              	.LVL12:
 124              	.LFB61:
  62:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  63:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** static int32_t gpio_read_bit(uint32_t gpioId, uint16_t *data) {
 125              		.loc 1 63 63 is_stmt 1 view -0
 126              		.cfi_startproc
 127              		@ args = 0, pretend = 0, frame = 0
 128              		@ frame_needed = 0, uses_anonymous_args = 0
 129              		.loc 1 63 63 is_stmt 0 view .LVU21
 130 0000 10B5     		push	{r4, lr}
 131              		.cfi_def_cfa_offset 8
 132              		.cfi_offset 4, -8
 133              		.cfi_offset 14, -4
 134 0002 0C46     		mov	r4, r1
  64:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	*data = gpio_input_bit_get(GPIOA, gpioId);
 135              		.loc 1 64 2 is_stmt 1 view .LVU22
 136              		.loc 1 64 10 is_stmt 0 view .LVU23
 137 0004 0146     		mov	r1, r0
 138              	.LVL13:
 139              		.loc 1 64 10 view .LVU24
 140 0006 0348     		ldr	r0, .L14
 141              	.LVL14:
 142              		.loc 1 64 10 view .LVU25
 143 0008 FFF7FEFF 		bl	gpio_input_bit_get
 144              	.LVL15:
 145              		.loc 1 64 8 view .LVU26
 146 000c 2080     		strh	r0, [r4]	@ movhi
  65:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	return 0;
 147              		.loc 1 65 2 is_stmt 1 view .LVU27
  66:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 148              		.loc 1 66 1 is_stmt 0 view .LVU28
 149 000e 0020     		movs	r0, #0
 150 0010 10BD     		pop	{r4, pc}
 151              	.LVL16:
 152              	.L15:
 153              		.loc 1 66 1 view .LVU29
 154 0012 00BF     		.align	2
 155              	.L14:
 156 0014 00080140 		.word	1073809408
 157              		.cfi_endproc
 158              	.LFE61:
 160              		.section	.text.smi_write_bits,"ax",%progbits
 161              		.align	1
 162              		.global	smi_write_bits
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 167              	smi_write_bits:
 168              	.LVL17:
 169              	.LFB62:
  67:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** /* porting the above macro or function according to the platform */
  68:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  69:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** void smi_write_bits(uint16_t data, uint32_t len) {
 170              		.loc 1 69 50 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 0
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		.loc 1 69 50 is_stmt 0 view .LVU31
 175 0000 38B5     		push	{r3, r4, r5, lr}
 176              		.cfi_def_cfa_offset 16
 177              		.cfi_offset 3, -16
 178              		.cfi_offset 4, -12
 179              		.cfi_offset 5, -8
 180              		.cfi_offset 14, -4
 181 0002 0546     		mov	r5, r0
 182 0004 0C46     		mov	r4, r1
  70:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	gpio_set_dir(GPIO_MDC, GPIO_DIR_OUT);
 183              		.loc 1 70 2 is_stmt 1 view .LVU32
 184 0006 0121     		movs	r1, #1
 185              	.LVL18:
 186              		.loc 1 70 2 is_stmt 0 view .LVU33
 187 0008 0820     		movs	r0, #8
 188              	.LVL19:
 189              		.loc 1 70 2 view .LVU34
 190 000a FFF7FEFF 		bl	gpio_set_dir
 191              	.LVL20:
  71:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	gpio_set_dir(GPIO_MDIO, GPIO_DIR_OUT);
 192              		.loc 1 71 2 is_stmt 1 view .LVU35
 193 000e 0121     		movs	r1, #1
 194 0010 0420     		movs	r0, #4
 195 0012 FFF7FEFF 		bl	gpio_set_dir
 196              	.LVL21:
  72:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	for (; len > 0; len--) {
 197              		.loc 1 72 2 view .LVU36
 198 0016 28E0     		b	.L17
 199              	.LVL22:
 200              	.L19:
 201              	.LBB20:
 202              	.LBB21:
  43:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
 203              		.loc 1 43 5 view .LVU37
 204              		.syntax unified
 205              	@ 43 "../switch_sdk/core/drv/smi_drv_gpio_sim.c" 1
 206 0018 00BF     		nop
 207              	@ 0 "" 2
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 208              		.loc 1 42 35 view .LVU38
 209              		.thumb
 210              		.syntax unified
 211 001a 0133     		adds	r3, r3, #1
 212              	.LVL23:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 213              		.loc 1 42 35 is_stmt 0 view .LVU39
 214 001c 9BB2     		uxth	r3, r3
 215              	.LVL24:
 216              	.L18:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 217              		.loc 1 42 25 is_stmt 1 view .LVU40
 218 001e B3F57A7F 		cmp	r3, #1000
 219 0022 F9D3     		bcc	.L19
 220              	.LBE21:
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 221              		.loc 1 45 2 view .LVU41
 222              	.LVL25:
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 223              		.loc 1 45 2 is_stmt 0 view .LVU42
 224              	.LBE20:
  73:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_write_bit(GPIO_MDC, 0);
  74:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
  75:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		if (data & (1 << (len - 1)))
 225              		.loc 1 75 3 is_stmt 1 view .LVU43
 226              		.loc 1 75 25 is_stmt 0 view .LVU44
 227 0024 013C     		subs	r4, r4, #1
 228              	.LVL26:
 229              		.loc 1 75 7 view .LVU45
 230 0026 45FA04F3 		asr	r3, r5, r4
 231              		.loc 1 75 6 view .LVU46
 232 002a 13F0010F 		tst	r3, #1
 233 002e 05D0     		beq	.L20
  76:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 			gpio_write_bit(GPIO_MDIO, 1);
 234              		.loc 1 76 4 is_stmt 1 view .LVU47
 235 0030 0121     		movs	r1, #1
 236 0032 0420     		movs	r0, #4
 237 0034 FFF7FEFF 		bl	gpio_write_bit
 238              	.LVL27:
 239              	.L21:
 240              	.LBB24:
 241              	.LBB22:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 242              		.loc 1 42 16 is_stmt 0 view .LVU48
 243 0038 0023     		movs	r3, #0
 244 003a 07E0     		b	.L22
 245              	.L20:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 246              		.loc 1 42 16 view .LVU49
 247              	.LBE22:
 248              	.LBE24:
  77:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		else
  78:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 			gpio_write_bit(GPIO_MDIO, 0);
 249              		.loc 1 78 4 is_stmt 1 view .LVU50
 250 003c 0021     		movs	r1, #0
 251 003e 0420     		movs	r0, #4
 252 0040 FFF7FEFF 		bl	gpio_write_bit
 253              	.LVL28:
 254 0044 F8E7     		b	.L21
 255              	.LVL29:
 256              	.L23:
 257              	.LBB25:
 258              	.LBB26:
  43:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
 259              		.loc 1 43 5 view .LVU51
 260              		.syntax unified
 261              	@ 43 "../switch_sdk/core/drv/smi_drv_gpio_sim.c" 1
 262 0046 00BF     		nop
 263              	@ 0 "" 2
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 264              		.loc 1 42 35 view .LVU52
 265              		.thumb
 266              		.syntax unified
 267 0048 0133     		adds	r3, r3, #1
 268              	.LVL30:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 269              		.loc 1 42 35 is_stmt 0 view .LVU53
 270 004a 9BB2     		uxth	r3, r3
 271              	.LVL31:
 272              	.L22:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 273              		.loc 1 42 25 is_stmt 1 view .LVU54
 274 004c B3F57A7F 		cmp	r3, #1000
 275 0050 F9D3     		bcc	.L23
 276              	.LBE26:
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 277              		.loc 1 45 2 view .LVU55
 278              	.LVL32:
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 279              		.loc 1 45 2 is_stmt 0 view .LVU56
 280              	.LBE25:
  79:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
  80:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  81:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_write_bit(GPIO_MDC, 1);
 281              		.loc 1 81 3 is_stmt 1 view .LVU57
 282 0052 0121     		movs	r1, #1
 283 0054 0820     		movs	r0, #8
 284 0056 FFF7FEFF 		bl	gpio_write_bit
 285              	.LVL33:
  82:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 286              		.loc 1 82 3 view .LVU58
 287              	.LBB27:
 288              	.LBI27:
  35:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	/*
 289              		.loc 1 35 20 view .LVU59
 290              	.LBB28:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 291              		.loc 1 42 16 is_stmt 0 view .LVU60
 292 005a 0023     		movs	r3, #0
 293 005c 02E0     		b	.L24
 294              	.LVL34:
 295              	.L25:
  43:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
 296              		.loc 1 43 5 is_stmt 1 view .LVU61
 297              		.syntax unified
 298              	@ 43 "../switch_sdk/core/drv/smi_drv_gpio_sim.c" 1
 299 005e 00BF     		nop
 300              	@ 0 "" 2
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 301              		.loc 1 42 35 view .LVU62
 302              		.thumb
 303              		.syntax unified
 304 0060 0133     		adds	r3, r3, #1
 305              	.LVL35:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 306              		.loc 1 42 35 is_stmt 0 view .LVU63
 307 0062 9BB2     		uxth	r3, r3
 308              	.LVL36:
 309              	.L24:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 310              		.loc 1 42 25 is_stmt 1 view .LVU64
 311 0064 B3F57A7F 		cmp	r3, #1000
 312 0068 F9D3     		bcc	.L25
 313              	.LVL37:
 314              	.L17:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 315              		.loc 1 42 25 is_stmt 0 view .LVU65
 316              	.LBE28:
 317              	.LBE27:
  72:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_write_bit(GPIO_MDC, 0);
 318              		.loc 1 72 13 is_stmt 1 discriminator 1 view .LVU66
 319 006a 2CB1     		cbz	r4, .L28
  73:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 320              		.loc 1 73 3 view .LVU67
 321 006c 0021     		movs	r1, #0
 322 006e 0820     		movs	r0, #8
 323 0070 FFF7FEFF 		bl	gpio_write_bit
 324              	.LVL38:
  74:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		if (data & (1 << (len - 1)))
 325              		.loc 1 74 3 view .LVU68
 326              	.LBB29:
 327              	.LBI20:
  35:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	/*
 328              		.loc 1 35 20 view .LVU69
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 329              		.loc 1 42 2 view .LVU70
 330              	.LBB23:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 331              		.loc 1 42 7 view .LVU71
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 332              		.loc 1 42 16 is_stmt 0 view .LVU72
 333 0074 0023     		movs	r3, #0
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 334              		.loc 1 42 2 view .LVU73
 335 0076 D2E7     		b	.L18
 336              	.LVL39:
 337              	.L28:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 338              		.loc 1 42 2 view .LVU74
 339              	.LBE23:
 340              	.LBE29:
  83:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
  84:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	gpio_write_bit(GPIO_MDC, 0);
 341              		.loc 1 84 2 is_stmt 1 view .LVU75
 342 0078 0021     		movs	r1, #0
 343 007a 0820     		movs	r0, #8
 344 007c FFF7FEFF 		bl	gpio_write_bit
 345              	.LVL40:
  85:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 346              		.loc 1 85 1 is_stmt 0 view .LVU76
 347 0080 38BD     		pop	{r3, r4, r5, pc}
 348              		.loc 1 85 1 view .LVU77
 349              		.cfi_endproc
 350              	.LFE62:
 352              		.section	.text.smi_read_bits,"ax",%progbits
 353              		.align	1
 354              		.global	smi_read_bits
 355              		.syntax unified
 356              		.thumb
 357              		.thumb_func
 359              	smi_read_bits:
 360              	.LVL41:
 361              	.LFB63:
  86:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  87:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** void smi_read_bits(uint32_t len, uint16_t *data) {
 362              		.loc 1 87 50 is_stmt 1 view -0
 363              		.cfi_startproc
 364              		@ args = 0, pretend = 0, frame = 8
 365              		@ frame_needed = 0, uses_anonymous_args = 0
 366              		.loc 1 87 50 is_stmt 0 view .LVU79
 367 0000 70B5     		push	{r4, r5, r6, lr}
 368              		.cfi_def_cfa_offset 16
 369              		.cfi_offset 4, -16
 370              		.cfi_offset 5, -12
 371              		.cfi_offset 6, -8
 372              		.cfi_offset 14, -4
 373 0002 82B0     		sub	sp, sp, #8
 374              		.cfi_def_cfa_offset 24
 375 0004 0446     		mov	r4, r0
 376 0006 0D46     		mov	r5, r1
  88:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	uint16_t tmp = 0;
 377              		.loc 1 88 2 is_stmt 1 view .LVU80
 378              		.loc 1 88 11 is_stmt 0 view .LVU81
 379 0008 0026     		movs	r6, #0
 380 000a ADF80660 		strh	r6, [sp, #6]	@ movhi
  89:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
  90:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	gpio_set_dir(GPIO_MDIO, GPIO_DIR_IN);
 381              		.loc 1 90 2 is_stmt 1 view .LVU82
 382 000e 3146     		mov	r1, r6
 383              	.LVL42:
 384              		.loc 1 90 2 is_stmt 0 view .LVU83
 385 0010 0420     		movs	r0, #4
 386              	.LVL43:
 387              		.loc 1 90 2 view .LVU84
 388 0012 FFF7FEFF 		bl	gpio_set_dir
 389              	.LVL44:
  91:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	for (*data = 0; len > 0; len--) {
 390              		.loc 1 91 2 is_stmt 1 view .LVU85
 391              		.loc 1 91 13 is_stmt 0 view .LVU86
 392 0016 2E80     		strh	r6, [r5]	@ movhi
 393              		.loc 1 91 2 view .LVU87
 394 0018 1DE0     		b	.L30
 395              	.LVL45:
 396              	.L32:
 397              	.LBB30:
 398              	.LBB31:
  43:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
 399              		.loc 1 43 5 is_stmt 1 view .LVU88
 400              		.syntax unified
 401              	@ 43 "../switch_sdk/core/drv/smi_drv_gpio_sim.c" 1
 402 001a 00BF     		nop
 403              	@ 0 "" 2
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 404              		.loc 1 42 35 view .LVU89
 405              		.thumb
 406              		.syntax unified
 407 001c 0133     		adds	r3, r3, #1
 408              	.LVL46:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 409              		.loc 1 42 35 is_stmt 0 view .LVU90
 410 001e 9BB2     		uxth	r3, r3
 411              	.LVL47:
 412              	.L31:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 413              		.loc 1 42 25 is_stmt 1 view .LVU91
 414 0020 B3F57A7F 		cmp	r3, #1000
 415 0024 F9D3     		bcc	.L32
 416              	.LBE31:
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 417              		.loc 1 45 2 discriminator 3 view .LVU92
 418              	.LVL48:
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 419              		.loc 1 45 2 is_stmt 0 discriminator 3 view .LVU93
 420              	.LBE30:
  92:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_read_bit(GPIO_MDIO, &tmp);
  93:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		*data |= ((tmp & 0x1) << (len - 1));
  94:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
  95:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_write_bit(GPIO_MDC, 1);
 421              		.loc 1 95 3 is_stmt 1 discriminator 3 view .LVU94
 422 0026 0121     		movs	r1, #1
 423 0028 0820     		movs	r0, #8
 424 002a FFF7FEFF 		bl	gpio_write_bit
 425              	.LVL49:
  96:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 426              		.loc 1 96 3 discriminator 3 view .LVU95
 427              	.LBB33:
 428              	.LBI33:
  35:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	/*
 429              		.loc 1 35 20 discriminator 3 view .LVU96
 430              	.LBB34:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 431              		.loc 1 42 16 is_stmt 0 discriminator 3 view .LVU97
 432 002e 0023     		movs	r3, #0
 433 0030 02E0     		b	.L33
 434              	.LVL50:
 435              	.L34:
  43:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
 436              		.loc 1 43 5 is_stmt 1 view .LVU98
 437              		.syntax unified
 438              	@ 43 "../switch_sdk/core/drv/smi_drv_gpio_sim.c" 1
 439 0032 00BF     		nop
 440              	@ 0 "" 2
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 441              		.loc 1 42 35 view .LVU99
 442              		.thumb
 443              		.syntax unified
 444 0034 0133     		adds	r3, r3, #1
 445              	.LVL51:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 446              		.loc 1 42 35 is_stmt 0 view .LVU100
 447 0036 9BB2     		uxth	r3, r3
 448              	.LVL52:
 449              	.L33:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 450              		.loc 1 42 25 is_stmt 1 view .LVU101
 451 0038 B3F57A7F 		cmp	r3, #1000
 452 003c F9D3     		bcc	.L34
 453              	.LBE34:
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 454              		.loc 1 45 2 discriminator 3 view .LVU102
 455              	.LVL53:
  45:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 456              		.loc 1 45 2 is_stmt 0 discriminator 3 view .LVU103
 457              	.LBE33:
  97:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_write_bit(GPIO_MDC, 0);
 458              		.loc 1 97 3 is_stmt 1 discriminator 3 view .LVU104
 459 003e 0021     		movs	r1, #0
 460 0040 0820     		movs	r0, #8
 461 0042 FFF7FEFF 		bl	gpio_write_bit
 462              	.LVL54:
  98:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 463              		.loc 1 98 3 discriminator 3 view .LVU105
 464              	.LBB35:
 465              	.LBI35:
  35:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	/*
 466              		.loc 1 35 20 discriminator 3 view .LVU106
 467              	.LBB36:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 468              		.loc 1 42 16 is_stmt 0 discriminator 3 view .LVU107
 469 0046 0023     		movs	r3, #0
 470 0048 02E0     		b	.L35
 471              	.LVL55:
 472              	.L36:
  43:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
 473              		.loc 1 43 5 is_stmt 1 view .LVU108
 474              		.syntax unified
 475              	@ 43 "../switch_sdk/core/drv/smi_drv_gpio_sim.c" 1
 476 004a 00BF     		nop
 477              	@ 0 "" 2
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 478              		.loc 1 42 35 view .LVU109
 479              		.thumb
 480              		.syntax unified
 481 004c 0133     		adds	r3, r3, #1
 482              	.LVL56:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 483              		.loc 1 42 35 is_stmt 0 view .LVU110
 484 004e 9BB2     		uxth	r3, r3
 485              	.LVL57:
 486              	.L35:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 487              		.loc 1 42 25 is_stmt 1 view .LVU111
 488 0050 B3F57A7F 		cmp	r3, #1000
 489 0054 F9D3     		bcc	.L36
 490              	.LVL58:
 491              	.L30:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 492              		.loc 1 42 25 is_stmt 0 view .LVU112
 493              	.LBE36:
 494              	.LBE35:
  91:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_read_bit(GPIO_MDIO, &tmp);
 495              		.loc 1 91 22 is_stmt 1 discriminator 1 view .LVU113
 496 0056 7CB1     		cbz	r4, .L39
  92:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		*data |= ((tmp & 0x1) << (len - 1));
 497              		.loc 1 92 3 discriminator 3 view .LVU114
 498 0058 0DF10601 		add	r1, sp, #6
 499 005c 0420     		movs	r0, #4
 500 005e FFF7FEFF 		bl	gpio_read_bit
 501              	.LVL59:
  93:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 502              		.loc 1 93 3 discriminator 3 view .LVU115
 503 0062 2A88     		ldrh	r2, [r5]
  93:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 504              		.loc 1 93 18 is_stmt 0 discriminator 3 view .LVU116
 505 0064 BDF80630 		ldrh	r3, [sp, #6]
 506 0068 03F00103 		and	r3, r3, #1
  93:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 507              		.loc 1 93 33 discriminator 3 view .LVU117
 508 006c 013C     		subs	r4, r4, #1
 509              	.LVL60:
  93:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 510              		.loc 1 93 25 discriminator 3 view .LVU118
 511 006e A340     		lsls	r3, r3, r4
  93:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		smi_delay(DELAY);
 512              		.loc 1 93 9 discriminator 3 view .LVU119
 513 0070 1343     		orrs	r3, r3, r2
 514 0072 2B80     		strh	r3, [r5]	@ movhi
  94:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		gpio_write_bit(GPIO_MDC, 1);
 515              		.loc 1 94 3 is_stmt 1 discriminator 3 view .LVU120
 516              	.LVL61:
 517              	.LBB37:
 518              	.LBI30:
  35:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	/*
 519              		.loc 1 35 20 discriminator 3 view .LVU121
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 520              		.loc 1 42 2 discriminator 3 view .LVU122
 521              	.LBB32:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 522              		.loc 1 42 7 discriminator 3 view .LVU123
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 523              		.loc 1 42 16 is_stmt 0 discriminator 3 view .LVU124
 524 0074 0023     		movs	r3, #0
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 525              		.loc 1 42 2 discriminator 3 view .LVU125
 526 0076 D3E7     		b	.L31
 527              	.LVL62:
 528              	.L39:
  42:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 		  __ASM volatile ("nop");
 529              		.loc 1 42 2 discriminator 3 view .LVU126
 530              	.LBE32:
 531              	.LBE37:
  99:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	}
 100:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 532              		.loc 1 100 1 view .LVU127
 533 0078 02B0     		add	sp, sp, #8
 534              		.cfi_def_cfa_offset 16
 535              		@ sp needed
 536 007a 70BD     		pop	{r4, r5, r6, pc}
 537              		.loc 1 100 1 view .LVU128
 538              		.cfi_endproc
 539              	.LFE63:
 541              		.section	.text.smi_write_cl22,"ax",%progbits
 542              		.align	1
 543              		.global	smi_write_cl22
 544              		.syntax unified
 545              		.thumb
 546              		.thumb_func
 548              	smi_write_cl22:
 549              	.LVL63:
 550              	.LFB64:
 101:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
 102:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** uint32_t smi_write_cl22(uint8_t phyAddr, uint8_t regAddr, uint16_t regVal) {
 551              		.loc 1 102 76 is_stmt 1 view -0
 552              		.cfi_startproc
 553              		@ args = 0, pretend = 0, frame = 0
 554              		@ frame_needed = 0, uses_anonymous_args = 0
 555              		.loc 1 102 76 is_stmt 0 view .LVU130
 556 0000 70B5     		push	{r4, r5, r6, lr}
 557              		.cfi_def_cfa_offset 16
 558              		.cfi_offset 4, -16
 559              		.cfi_offset 5, -12
 560              		.cfi_offset 6, -8
 561              		.cfi_offset 14, -4
 562 0002 0646     		mov	r6, r0
 563 0004 0D46     		mov	r5, r1
 564 0006 1446     		mov	r4, r2
 103:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_lock();
 565              		.loc 1 103 2 is_stmt 1 view .LVU131
 104:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(0xffff, 16);
 566              		.loc 1 104 2 view .LVU132
 567 0008 1021     		movs	r1, #16
 568              	.LVL64:
 569              		.loc 1 104 2 is_stmt 0 view .LVU133
 570 000a 4FF6FF70 		movw	r0, #65535
 571              	.LVL65:
 572              		.loc 1 104 2 view .LVU134
 573 000e FFF7FEFF 		bl	smi_write_bits
 574              	.LVL66:
 105:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(0xffff, 16);
 575              		.loc 1 105 2 is_stmt 1 view .LVU135
 576 0012 1021     		movs	r1, #16
 577 0014 4FF6FF70 		movw	r0, #65535
 578 0018 FFF7FEFF 		bl	smi_write_bits
 579              	.LVL67:
 106:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(SMI_ST_CODE, 2);
 580              		.loc 1 106 2 view .LVU136
 581 001c 0221     		movs	r1, #2
 582 001e 0120     		movs	r0, #1
 583 0020 FFF7FEFF 		bl	smi_write_bits
 584              	.LVL68:
 107:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(SMI_OP_WRITE, 2);
 585              		.loc 1 107 2 view .LVU137
 586 0024 0221     		movs	r1, #2
 587 0026 0120     		movs	r0, #1
 588 0028 FFF7FEFF 		bl	smi_write_bits
 589              	.LVL69:
 108:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(phyAddr, 5);
 590              		.loc 1 108 2 view .LVU138
 591 002c 0521     		movs	r1, #5
 592 002e 3046     		mov	r0, r6
 593 0030 FFF7FEFF 		bl	smi_write_bits
 594              	.LVL70:
 109:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(regAddr, 5);
 595              		.loc 1 109 2 view .LVU139
 596 0034 0521     		movs	r1, #5
 597 0036 2846     		mov	r0, r5
 598 0038 FFF7FEFF 		bl	smi_write_bits
 599              	.LVL71:
 110:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(SMI_TA_CODE, 2);
 600              		.loc 1 110 2 view .LVU140
 601 003c 0221     		movs	r1, #2
 602 003e 0846     		mov	r0, r1
 603 0040 FFF7FEFF 		bl	smi_write_bits
 604              	.LVL72:
 111:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(regVal, 16);
 605              		.loc 1 111 2 view .LVU141
 606 0044 1021     		movs	r1, #16
 607 0046 2046     		mov	r0, r4
 608 0048 FFF7FEFF 		bl	smi_write_bits
 609              	.LVL73:
 112:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_unlock();
 610              		.loc 1 112 2 view .LVU142
 113:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
 114:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	return 0;
 611              		.loc 1 114 2 view .LVU143
 115:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 612              		.loc 1 115 1 is_stmt 0 view .LVU144
 613 004c 0020     		movs	r0, #0
 614 004e 70BD     		pop	{r4, r5, r6, pc}
 615              		.cfi_endproc
 616              	.LFE64:
 618              		.section	.text.smi_read_cl22,"ax",%progbits
 619              		.align	1
 620              		.global	smi_read_cl22
 621              		.syntax unified
 622              		.thumb
 623              		.thumb_func
 625              	smi_read_cl22:
 626              	.LVL74:
 627              	.LFB65:
 116:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
 117:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** uint32_t smi_read_cl22(uint8_t phyAddr, uint8_t regAddr, uint16_t *pRegVal) {
 628              		.loc 1 117 77 is_stmt 1 view -0
 629              		.cfi_startproc
 630              		@ args = 0, pretend = 0, frame = 0
 631              		@ frame_needed = 0, uses_anonymous_args = 0
 632              		.loc 1 117 77 is_stmt 0 view .LVU146
 633 0000 70B5     		push	{r4, r5, r6, lr}
 634              		.cfi_def_cfa_offset 16
 635              		.cfi_offset 4, -16
 636              		.cfi_offset 5, -12
 637              		.cfi_offset 6, -8
 638              		.cfi_offset 14, -4
 639 0002 0646     		mov	r6, r0
 640 0004 0D46     		mov	r5, r1
 641 0006 1446     		mov	r4, r2
 118:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_lock();
 642              		.loc 1 118 2 is_stmt 1 view .LVU147
 119:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(0xffff, 16);
 643              		.loc 1 119 2 view .LVU148
 644 0008 1021     		movs	r1, #16
 645              	.LVL75:
 646              		.loc 1 119 2 is_stmt 0 view .LVU149
 647 000a 4FF6FF70 		movw	r0, #65535
 648              	.LVL76:
 649              		.loc 1 119 2 view .LVU150
 650 000e FFF7FEFF 		bl	smi_write_bits
 651              	.LVL77:
 120:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(0xffff, 16);
 652              		.loc 1 120 2 is_stmt 1 view .LVU151
 653 0012 1021     		movs	r1, #16
 654 0014 4FF6FF70 		movw	r0, #65535
 655 0018 FFF7FEFF 		bl	smi_write_bits
 656              	.LVL78:
 121:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(SMI_ST_CODE, 2);
 657              		.loc 1 121 2 view .LVU152
 658 001c 0221     		movs	r1, #2
 659 001e 0120     		movs	r0, #1
 660 0020 FFF7FEFF 		bl	smi_write_bits
 661              	.LVL79:
 122:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(SMI_OP_READ, 2);
 662              		.loc 1 122 2 view .LVU153
 663 0024 0221     		movs	r1, #2
 664 0026 0846     		mov	r0, r1
 665 0028 FFF7FEFF 		bl	smi_write_bits
 666              	.LVL80:
 123:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(phyAddr, 5);
 667              		.loc 1 123 2 view .LVU154
 668 002c 0521     		movs	r1, #5
 669 002e 3046     		mov	r0, r6
 670 0030 FFF7FEFF 		bl	smi_write_bits
 671              	.LVL81:
 124:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_write_bits(regAddr, 5);
 672              		.loc 1 124 2 view .LVU155
 673 0034 0521     		movs	r1, #5
 674 0036 2846     		mov	r0, r5
 675 0038 FFF7FEFF 		bl	smi_write_bits
 676              	.LVL82:
 125:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_read_bits(2, pRegVal);
 677              		.loc 1 125 2 view .LVU156
 678 003c 2146     		mov	r1, r4
 679 003e 0220     		movs	r0, #2
 680 0040 FFF7FEFF 		bl	smi_read_bits
 681              	.LVL83:
 126:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_read_bits(16, pRegVal);
 682              		.loc 1 126 2 view .LVU157
 683 0044 2146     		mov	r1, r4
 684 0046 1020     		movs	r0, #16
 685 0048 FFF7FEFF 		bl	smi_read_bits
 686              	.LVL84:
 127:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	smi_unlock();
 687              		.loc 1 127 2 view .LVU158
 128:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 
 129:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** 	return 0;
 688              		.loc 1 129 2 view .LVU159
 130:../switch_sdk/core/drv/smi_drv_gpio_sim.c **** }
 689              		.loc 1 130 1 is_stmt 0 view .LVU160
 690 004c 0020     		movs	r0, #0
 691 004e 70BD     		pop	{r4, r5, r6, pc}
 692              		.loc 1 130 1 view .LVU161
 693              		.cfi_endproc
 694              	.LFE65:
 696              		.text
 697              	.Letext0:
 698              		.file 2 "c:\\users\\dmitriy\\appdata\\roaming\\xpacks\\@xpack-dev-tools\\arm-none-eabi-gcc\\12.3.1
 699              		.file 3 "../system/inc/cmsis/gd32f10x.h"
 700              		.file 4 "../system/inc/gd32f10x/gd32f10x_gpio.h"
DEFINED SYMBOLS
                            *ABS*:00000000 smi_drv_gpio_sim.c
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:19     .text.gpio_set_dir:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:24     .text.gpio_set_dir:00000000 gpio_set_dir
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:73     .text.gpio_set_dir:00000024 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:78     .text.gpio_write_bit:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:83     .text.gpio_write_bit:00000000 gpio_write_bit
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:112    .text.gpio_write_bit:00000010 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:117    .text.gpio_read_bit:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:122    .text.gpio_read_bit:00000000 gpio_read_bit
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:156    .text.gpio_read_bit:00000014 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:161    .text.smi_write_bits:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:167    .text.smi_write_bits:00000000 smi_write_bits
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:353    .text.smi_read_bits:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:359    .text.smi_read_bits:00000000 smi_read_bits
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:542    .text.smi_write_cl22:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:548    .text.smi_write_cl22:00000000 smi_write_cl22
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:619    .text.smi_read_cl22:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccW5ulA6.s:625    .text.smi_read_cl22:00000000 smi_read_cl22
                           .group:00000000 wm4.0.3ac34e011645c1b8d95761511e5c0518
                           .group:00000000 wm4.gd32f10x.h.39.34aa79a68d44b3fc31805fff8eeec626
                           .group:00000000 wm4.core_cm3.h.47.f403a0b1a9e3f5bd328e41f4fa5fc23b
                           .group:00000000 wm4.stdintgcc.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:00000000 wm4.core_cmInstr.h.39.c66a1c911732cf6be44e58f2bee25308
                           .group:00000000 wm4.core_cm3.h.155.db3dfdf4b365cc230a717221b218ddd5
                           .group:00000000 wm4.gd32f10x.h.319.136b0302befa645b041a9c456ae16d42
                           .group:00000000 wm4.gd32f10x_adc.h.44.619483e99e32c90a5f7c6ed512bbf95b
                           .group:00000000 wm4.gd32f10x_bkp.h.39.4da6e92b74c7310fa25e26e16145cf9d
                           .group:00000000 wm4.gd32f10x_can.h.41.99143e9b2de50f71c3392eea2d9e706b
                           .group:00000000 wm4.gd32f10x_crc.h.39.4c0c7ace19ba22146d7643de7dde24e0
                           .group:00000000 wm4.gd32f10x_dac.h.39.a3dd044652013a67f3cc1bbd4333b1f5
                           .group:00000000 wm4.gd32f10x_dma.h.40.e0e420e6b56a4398ac3aa49fe3f1eb37
                           .group:00000000 wm4.ieeefp.h.77.0ee3146e9d892bb10bc0066c30189af1
                           .group:00000000 wm4._newlib_version.h.4.6d111ab2e95434b664b53815e5c8ccba
                           .group:00000000 wm4.newlib.h.27.d4bf77c18f14f545101dac22f0b54118
                           .group:00000000 wm4.features.h.22.7877b139107948f7dadcf3660cc79cfd
                           .group:00000000 wm4.config.h.224.10ee1ad185d877c6e334e6581faab44d
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.stddef.h.185.882514a1a6169ceba9142f401cbe27c6
                           .group:00000000 wm4.stddef.h.39.f07083f9b666a9e5c52a336c758fdd72
                           .group:00000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:00000000 wm4.stddef.h.158.5f30652bb2ea05b142c1bbee9108c999
                           .group:00000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:00000000 wm4._types.h.127.3bdfe3ff8ea2d0985b03d9cbe93480e3
                           .group:00000000 wm4.reent.h.17.e292bf8b0bec6c96e131a54347145a30
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4.reent.h.77.89f7dde66c62b1f1dee32bdb6ab2d544
                           .group:00000000 wm4.cdefs.h.49.f93868eb904b9ca05b5c0257d31128ca
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.56.f4862cfbf4363a1db01842d5bdf72c18
                           .group:00000000 wm4.gd32f10x_enet.h.44.638fb20a727f17a9f45c8bef0e4dc155
                           .group:00000000 wm4.gd32f10x_exmc.h.39.cd31f13ab884fb77a3b2d0dd19135c79
                           .group:00000000 wm4.gd32f10x_exti.h.39.f641ba5efef75aed967e0eca0d908b22
                           .group:00000000 wm4.gd32f10x_fmc.h.39.7e6aa836f91030dd1ff3782a069962bf
                           .group:00000000 wm4.gd32f10x_gpio.h.39.80b4d0c5aa2b4bb9a76b4f0ed7eb4f37
                           .group:00000000 wm4.gd32f10x_i2c.h.40.8897e5891a1cbe807de60657ffffdeb4
                           .group:00000000 wm4.gd32f10x_fwdgt.h.39.98d7bcc523d52c51b47267d3aa630510
                           .group:00000000 wm4.gd32f10x_dbg.h.40.7f011e3bfaf652db4fef79974773282c
                           .group:00000000 wm4.gd32f10x_misc.h.39.02269a148ed2e3625e137e1efd69eb5b
                           .group:00000000 wm4.gd32f10x_pmu.h.39.74926372d4607639ac6680132fe98aa1
                           .group:00000000 wm4.gd32f10x_rcu.h.39.8a90a017c64bad5f5bd02c211060734d
                           .group:00000000 wm4.gd32f10x_rtc.h.39.8a002d392eec882fcd681ea51f1c73a0
                           .group:00000000 wm4.gd32f10x_sdio.h.39.f2faa8e3b059e0ddee4e4ee996fe3269
                           .group:00000000 wm4.gd32f10x_spi.h.39.902664de8fc67c732b453548a8b810bf
                           .group:00000000 wm4.gd32f10x_timer.h.39.bb5f06befe0b01a2e83ec1dec4ea7722
                           .group:00000000 wm4.gd32f10x_usart.h.39.77325e272b5abf9a7b4cf37f2c34644a
                           .group:00000000 wm4.gd32f10x_wwdgt.h.39.3fa1c00ac1b6c8ed1fb1e9f65bb3835a

UNDEFINED SYMBOLS
gpio_init
gpio_bit_write
gpio_input_bit_get
