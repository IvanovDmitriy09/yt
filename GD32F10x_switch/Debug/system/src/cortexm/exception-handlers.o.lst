   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"exception-handlers.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "../system/src/cortexm/exception-handlers.c"
  18              		.section	.after_vectors,"ax",%progbits
  19              		.align	1
  20              		.global	Reset_Handler
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	Reset_Handler:
  26              	.LFB58:
   1:../system/src/cortexm/exception-handlers.c **** /*
   2:../system/src/cortexm/exception-handlers.c ****  * This file is part of the ÂµOS++ distribution.
   3:../system/src/cortexm/exception-handlers.c ****  *   (https://github.com/micro-os-plus)
   4:../system/src/cortexm/exception-handlers.c ****  * Copyright (c) 2014 Liviu Ionescu.
   5:../system/src/cortexm/exception-handlers.c ****  *
   6:../system/src/cortexm/exception-handlers.c ****  * Permission is hereby granted, free of charge, to any person
   7:../system/src/cortexm/exception-handlers.c ****  * obtaining a copy of this software and associated documentation
   8:../system/src/cortexm/exception-handlers.c ****  * files (the "Software"), to deal in the Software without
   9:../system/src/cortexm/exception-handlers.c ****  * restriction, including without limitation the rights to use,
  10:../system/src/cortexm/exception-handlers.c ****  * copy, modify, merge, publish, distribute, sublicense, and/or
  11:../system/src/cortexm/exception-handlers.c ****  * sell copies of the Software, and to permit persons to whom
  12:../system/src/cortexm/exception-handlers.c ****  * the Software is furnished to do so, subject to the following
  13:../system/src/cortexm/exception-handlers.c ****  * conditions:
  14:../system/src/cortexm/exception-handlers.c ****  *
  15:../system/src/cortexm/exception-handlers.c ****  * The above copyright notice and this permission notice shall be
  16:../system/src/cortexm/exception-handlers.c ****  * included in all copies or substantial portions of the Software.
  17:../system/src/cortexm/exception-handlers.c ****  *
  18:../system/src/cortexm/exception-handlers.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  19:../system/src/cortexm/exception-handlers.c ****  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  20:../system/src/cortexm/exception-handlers.c ****  * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  21:../system/src/cortexm/exception-handlers.c ****  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  22:../system/src/cortexm/exception-handlers.c ****  * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  23:../system/src/cortexm/exception-handlers.c ****  * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  24:../system/src/cortexm/exception-handlers.c ****  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  25:../system/src/cortexm/exception-handlers.c ****  * OTHER DEALINGS IN THE SOFTWARE.
  26:../system/src/cortexm/exception-handlers.c ****  */
  27:../system/src/cortexm/exception-handlers.c **** 
  28:../system/src/cortexm/exception-handlers.c **** // ----------------------------------------------------------------------------
  29:../system/src/cortexm/exception-handlers.c **** 
  30:../system/src/cortexm/exception-handlers.c **** #include "cortexm/exception-handlers.h"
  31:../system/src/cortexm/exception-handlers.c **** #include "cmsis_device.h"
  32:../system/src/cortexm/exception-handlers.c **** #include "arm/semihosting.h"
  33:../system/src/cortexm/exception-handlers.c **** #include "diag/trace.h"
  34:../system/src/cortexm/exception-handlers.c **** #include <string.h>
  35:../system/src/cortexm/exception-handlers.c **** 
  36:../system/src/cortexm/exception-handlers.c **** // ----------------------------------------------------------------------------
  37:../system/src/cortexm/exception-handlers.c **** 
  38:../system/src/cortexm/exception-handlers.c **** extern void
  39:../system/src/cortexm/exception-handlers.c **** __attribute__((noreturn,weak))
  40:../system/src/cortexm/exception-handlers.c **** _start (void);
  41:../system/src/cortexm/exception-handlers.c **** 
  42:../system/src/cortexm/exception-handlers.c **** // ----------------------------------------------------------------------------
  43:../system/src/cortexm/exception-handlers.c **** // Default exception handlers. Override the ones here by defining your own
  44:../system/src/cortexm/exception-handlers.c **** // handler routines in your application code.
  45:../system/src/cortexm/exception-handlers.c **** // ----------------------------------------------------------------------------
  46:../system/src/cortexm/exception-handlers.c **** 
  47:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
  48:../system/src/cortexm/exception-handlers.c **** 
  49:../system/src/cortexm/exception-handlers.c **** // The DEBUG version is not naked, but has a proper stack frame,
  50:../system/src/cortexm/exception-handlers.c **** // to allow setting breakpoints at Reset_Handler.
  51:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),noreturn))
  52:../system/src/cortexm/exception-handlers.c **** Reset_Handler (void)
  53:../system/src/cortexm/exception-handlers.c **** {
  27              		.loc 1 53 1 view -0
  28              		.cfi_startproc
  29              		@ Volatile: function does not return.
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 08B5     		push	{r3, lr}
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 3, -8
  35              		.cfi_offset 14, -4
  54:../system/src/cortexm/exception-handlers.c ****   _start ();
  36              		.loc 1 54 3 view .LVU1
  37 0002 FFF7FEFF 		bl	_start
  38              	.LVL0:
  39              		.cfi_endproc
  40              	.LFE58:
  42              		.align	1
  43              		.weak	NMI_Handler
  44              		.syntax unified
  45              		.thumb
  46              		.thumb_func
  48              	NMI_Handler:
  49              	.LFB59:
  55:../system/src/cortexm/exception-handlers.c **** }
  56:../system/src/cortexm/exception-handlers.c **** 
  57:../system/src/cortexm/exception-handlers.c **** #else
  58:../system/src/cortexm/exception-handlers.c **** 
  59:../system/src/cortexm/exception-handlers.c **** // The Release version is optimised to a quick branch to _start.
  60:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),naked))
  61:../system/src/cortexm/exception-handlers.c **** Reset_Handler(void)
  62:../system/src/cortexm/exception-handlers.c ****   {
  63:../system/src/cortexm/exception-handlers.c ****     asm volatile
  64:../system/src/cortexm/exception-handlers.c ****     (
  65:../system/src/cortexm/exception-handlers.c ****         " ldr     r0,=_start \n"
  66:../system/src/cortexm/exception-handlers.c ****         " bx      r0"
  67:../system/src/cortexm/exception-handlers.c ****         :
  68:../system/src/cortexm/exception-handlers.c ****         :
  69:../system/src/cortexm/exception-handlers.c ****         :
  70:../system/src/cortexm/exception-handlers.c ****     );
  71:../system/src/cortexm/exception-handlers.c ****   }
  72:../system/src/cortexm/exception-handlers.c **** 
  73:../system/src/cortexm/exception-handlers.c **** #endif
  74:../system/src/cortexm/exception-handlers.c **** 
  75:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak))
  76:../system/src/cortexm/exception-handlers.c **** NMI_Handler (void)
  77:../system/src/cortexm/exception-handlers.c **** {
  50              		.loc 1 77 1 view -0
  51              		.cfi_startproc
  52              		@ args = 0, pretend = 0, frame = 0
  53              		@ frame_needed = 0, uses_anonymous_args = 0
  54              		@ link register save eliminated.
  78:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
  79:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
  55              		.loc 1 79 3 view .LVU3
  56              		.syntax unified
  57              	@ 79 "../system/src/cortexm/exception-handlers.c" 1
  58 0006 00BE     		bkpt 0
  59              	@ 0 "" 2
  60              		.thumb
  61              		.syntax unified
  62              	.L4:
  80:../system/src/cortexm/exception-handlers.c **** #endif
  81:../system/src/cortexm/exception-handlers.c ****   while (1)
  63              		.loc 1 81 3 discriminator 1 view .LVU4
  82:../system/src/cortexm/exception-handlers.c ****     {
  83:../system/src/cortexm/exception-handlers.c ****     }
  64              		.loc 1 83 5 discriminator 1 view .LVU5
  81:../system/src/cortexm/exception-handlers.c ****     {
  65              		.loc 1 81 9 discriminator 1 view .LVU6
  66 0008 FEE7     		b	.L4
  67              		.cfi_endproc
  68              	.LFE59:
  70              		.section	.rodata.dumpExceptionStack.str1.4,"aMS",%progbits,1
  71              		.align	2
  72              	.LC0:
  73 0000 53746163 		.ascii	"Stack frame:\012\000"
  73      6B206672 
  73      616D653A 
  73      0A00
  74 000e 0000     		.align	2
  75              	.LC1:
  76 0010 20523020 		.ascii	" R0 =  %08X\012\000"
  76      3D202025 
  76      3038580A 
  76      00
  77 001d 000000   		.align	2
  78              	.LC2:
  79 0020 20523120 		.ascii	" R1 =  %08X\012\000"
  79      3D202025 
  79      3038580A 
  79      00
  80 002d 000000   		.align	2
  81              	.LC3:
  82 0030 20523220 		.ascii	" R2 =  %08X\012\000"
  82      3D202025 
  82      3038580A 
  82      00
  83 003d 000000   		.align	2
  84              	.LC4:
  85 0040 20523320 		.ascii	" R3 =  %08X\012\000"
  85      3D202025 
  85      3038580A 
  85      00
  86 004d 000000   		.align	2
  87              	.LC5:
  88 0050 20523132 		.ascii	" R12 = %08X\012\000"
  88      203D2025 
  88      3038580A 
  88      00
  89 005d 000000   		.align	2
  90              	.LC6:
  91 0060 204C5220 		.ascii	" LR =  %08X\012\000"
  91      3D202025 
  91      3038580A 
  91      00
  92 006d 000000   		.align	2
  93              	.LC7:
  94 0070 20504320 		.ascii	" PC =  %08X\012\000"
  94      3D202025 
  94      3038580A 
  94      00
  95 007d 000000   		.align	2
  96              	.LC8:
  97 0080 20505352 		.ascii	" PSR = %08X\012\000"
  97      203D2025 
  97      3038580A 
  97      00
  98 008d 000000   		.align	2
  99              	.LC9:
 100 0090 4653522F 		.ascii	"FSR/FAR:\012\000"
 100      4641523A 
 100      0A00
 101 009a 0000     		.align	2
 102              	.LC10:
 103 009c 20434653 		.ascii	" CFSR =  %08X\012\000"
 103      52203D20 
 103      20253038 
 103      580A00
 104 00ab 00       		.align	2
 105              	.LC11:
 106 00ac 20484653 		.ascii	" HFSR =  %08X\012\000"
 106      52203D20 
 106      20253038 
 106      580A00
 107 00bb 00       		.align	2
 108              	.LC12:
 109 00bc 20444653 		.ascii	" DFSR =  %08X\012\000"
 109      52203D20 
 109      20253038 
 109      580A00
 110 00cb 00       		.align	2
 111              	.LC13:
 112 00cc 20414653 		.ascii	" AFSR =  %08X\012\000"
 112      52203D20 
 112      20253038 
 112      580A00
 113 00db 00       		.align	2
 114              	.LC14:
 115 00dc 204D4D46 		.ascii	" MMFAR = %08X\012\000"
 115      4152203D 
 115      20253038 
 115      580A00
 116 00eb 00       		.align	2
 117              	.LC15:
 118 00ec 20424641 		.ascii	" BFAR =  %08X\012\000"
 118      52203D20 
 118      20253038 
 118      580A00
 119 00fb 00       		.align	2
 120              	.LC16:
 121 00fc 4D697363 		.ascii	"Misc\012\000"
 121      0A00
 122 0102 0000     		.align	2
 123              	.LC17:
 124 0104 204C522F 		.ascii	" LR/EXC_RETURN= %08X\012\000"
 124      4558435F 
 124      52455455 
 124      524E3D20 
 124      25303858 
 125              		.section	.text.dumpExceptionStack,"ax",%progbits
 126              		.align	1
 127              		.global	dumpExceptionStack
 128              		.syntax unified
 129              		.thumb
 130              		.thumb_func
 132              	dumpExceptionStack:
 133              	.LVL1:
 134              	.LFB60:
  84:../system/src/cortexm/exception-handlers.c **** }
  85:../system/src/cortexm/exception-handlers.c **** 
  86:../system/src/cortexm/exception-handlers.c **** // ----------------------------------------------------------------------------
  87:../system/src/cortexm/exception-handlers.c **** 
  88:../system/src/cortexm/exception-handlers.c **** #if defined(TRACE)
  89:../system/src/cortexm/exception-handlers.c **** 
  90:../system/src/cortexm/exception-handlers.c **** #if defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__)
  91:../system/src/cortexm/exception-handlers.c **** 
  92:../system/src/cortexm/exception-handlers.c **** // The values of BFAR and MMFAR stay unchanged if the BFARVALID or
  93:../system/src/cortexm/exception-handlers.c **** // MMARVALID is set. However, if a new fault occurs during the
  94:../system/src/cortexm/exception-handlers.c **** // execution of this fault handler, the value of the BFAR and MMFAR
  95:../system/src/cortexm/exception-handlers.c **** // could potentially be erased. In order to ensure the fault addresses
  96:../system/src/cortexm/exception-handlers.c **** // accessed are valid, the following procedure should be used:
  97:../system/src/cortexm/exception-handlers.c **** // 1. Read BFAR/MMFAR.
  98:../system/src/cortexm/exception-handlers.c **** // 2. Read CFSR to get BFARVALID or MMARVALID. If the value is 0, the
  99:../system/src/cortexm/exception-handlers.c **** //    value of BFAR or MMFAR accessed can be invalid and can be discarded.
 100:../system/src/cortexm/exception-handlers.c **** // 3. Optionally clear BFARVALID or MMARVALID.
 101:../system/src/cortexm/exception-handlers.c **** // (See Joseph Yiu's book).
 102:../system/src/cortexm/exception-handlers.c **** 
 103:../system/src/cortexm/exception-handlers.c **** void
 104:../system/src/cortexm/exception-handlers.c **** dumpExceptionStack (ExceptionStackFrame* frame,
 105:../system/src/cortexm/exception-handlers.c ****                 uint32_t cfsr, uint32_t mmfar, uint32_t bfar,
 106:../system/src/cortexm/exception-handlers.c ****                                         uint32_t lr)
 107:../system/src/cortexm/exception-handlers.c **** {
 135              		.loc 1 107 1 view -0
 136              		.cfi_startproc
 137              		@ args = 4, pretend = 0, frame = 0
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 139              		.loc 1 107 1 is_stmt 0 view .LVU8
 140 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 141              		.cfi_def_cfa_offset 24
 142              		.cfi_offset 3, -24
 143              		.cfi_offset 4, -20
 144              		.cfi_offset 5, -16
 145              		.cfi_offset 6, -12
 146              		.cfi_offset 7, -8
 147              		.cfi_offset 14, -4
 148 0002 0446     		mov	r4, r0
 149 0004 0D46     		mov	r5, r1
 150 0006 1746     		mov	r7, r2
 151 0008 1E46     		mov	r6, r3
 108:../system/src/cortexm/exception-handlers.c ****   trace_printf ("Stack frame:\n");
 152              		.loc 1 108 3 is_stmt 1 view .LVU9
 153 000a 2748     		ldr	r0, .L11
 154              	.LVL2:
 155              		.loc 1 108 3 is_stmt 0 view .LVU10
 156 000c FFF7FEFF 		bl	trace_printf
 157              	.LVL3:
 109:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R0 =  %08X\n", frame->r0);
 158              		.loc 1 109 3 is_stmt 1 view .LVU11
 159 0010 2168     		ldr	r1, [r4]
 160 0012 2648     		ldr	r0, .L11+4
 161 0014 FFF7FEFF 		bl	trace_printf
 162              	.LVL4:
 110:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R1 =  %08X\n", frame->r1);
 163              		.loc 1 110 3 view .LVU12
 164 0018 6168     		ldr	r1, [r4, #4]
 165 001a 2548     		ldr	r0, .L11+8
 166 001c FFF7FEFF 		bl	trace_printf
 167              	.LVL5:
 111:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R2 =  %08X\n", frame->r2);
 168              		.loc 1 111 3 view .LVU13
 169 0020 A168     		ldr	r1, [r4, #8]
 170 0022 2448     		ldr	r0, .L11+12
 171 0024 FFF7FEFF 		bl	trace_printf
 172              	.LVL6:
 112:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R3 =  %08X\n", frame->r3);
 173              		.loc 1 112 3 view .LVU14
 174 0028 E168     		ldr	r1, [r4, #12]
 175 002a 2348     		ldr	r0, .L11+16
 176 002c FFF7FEFF 		bl	trace_printf
 177              	.LVL7:
 113:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R12 = %08X\n", frame->r12);
 178              		.loc 1 113 3 view .LVU15
 179 0030 2169     		ldr	r1, [r4, #16]
 180 0032 2248     		ldr	r0, .L11+20
 181 0034 FFF7FEFF 		bl	trace_printf
 182              	.LVL8:
 114:../system/src/cortexm/exception-handlers.c ****   trace_printf (" LR =  %08X\n", frame->lr);
 183              		.loc 1 114 3 view .LVU16
 184 0038 6169     		ldr	r1, [r4, #20]
 185 003a 2148     		ldr	r0, .L11+24
 186 003c FFF7FEFF 		bl	trace_printf
 187              	.LVL9:
 115:../system/src/cortexm/exception-handlers.c ****   trace_printf (" PC =  %08X\n", frame->pc);
 188              		.loc 1 115 3 view .LVU17
 189 0040 A169     		ldr	r1, [r4, #24]
 190 0042 2048     		ldr	r0, .L11+28
 191 0044 FFF7FEFF 		bl	trace_printf
 192              	.LVL10:
 116:../system/src/cortexm/exception-handlers.c ****   trace_printf (" PSR = %08X\n", frame->psr);
 193              		.loc 1 116 3 view .LVU18
 194 0048 E169     		ldr	r1, [r4, #28]
 195 004a 1F48     		ldr	r0, .L11+32
 196 004c FFF7FEFF 		bl	trace_printf
 197              	.LVL11:
 117:../system/src/cortexm/exception-handlers.c ****   trace_printf ("FSR/FAR:\n");
 198              		.loc 1 117 3 view .LVU19
 199 0050 1E48     		ldr	r0, .L11+36
 200 0052 FFF7FEFF 		bl	trace_printf
 201              	.LVL12:
 118:../system/src/cortexm/exception-handlers.c ****   trace_printf (" CFSR =  %08X\n", cfsr);
 202              		.loc 1 118 3 view .LVU20
 203 0056 2946     		mov	r1, r5
 204 0058 1D48     		ldr	r0, .L11+40
 205 005a FFF7FEFF 		bl	trace_printf
 206              	.LVL13:
 119:../system/src/cortexm/exception-handlers.c ****   trace_printf (" HFSR =  %08X\n", SCB->HFSR);
 207              		.loc 1 119 3 view .LVU21
 208              		.loc 1 119 39 is_stmt 0 view .LVU22
 209 005e 1D4C     		ldr	r4, .L11+44
 210              	.LVL14:
 211              		.loc 1 119 39 view .LVU23
 212 0060 E16A     		ldr	r1, [r4, #44]
 213              		.loc 1 119 3 view .LVU24
 214 0062 1D48     		ldr	r0, .L11+48
 215 0064 FFF7FEFF 		bl	trace_printf
 216              	.LVL15:
 120:../system/src/cortexm/exception-handlers.c ****   trace_printf (" DFSR =  %08X\n", SCB->DFSR);
 217              		.loc 1 120 3 is_stmt 1 view .LVU25
 218              		.loc 1 120 39 is_stmt 0 view .LVU26
 219 0068 216B     		ldr	r1, [r4, #48]
 220              		.loc 1 120 3 view .LVU27
 221 006a 1C48     		ldr	r0, .L11+52
 222 006c FFF7FEFF 		bl	trace_printf
 223              	.LVL16:
 121:../system/src/cortexm/exception-handlers.c ****   trace_printf (" AFSR =  %08X\n", SCB->AFSR);
 224              		.loc 1 121 3 is_stmt 1 view .LVU28
 225              		.loc 1 121 39 is_stmt 0 view .LVU29
 226 0070 E16B     		ldr	r1, [r4, #60]
 227              		.loc 1 121 3 view .LVU30
 228 0072 1B48     		ldr	r0, .L11+56
 229 0074 FFF7FEFF 		bl	trace_printf
 230              	.LVL17:
 122:../system/src/cortexm/exception-handlers.c **** 
 123:../system/src/cortexm/exception-handlers.c ****   if (cfsr & (1UL << 7))
 231              		.loc 1 123 3 is_stmt 1 view .LVU31
 232              		.loc 1 123 6 is_stmt 0 view .LVU32
 233 0078 15F0800F 		tst	r5, #128
 234 007c 0AD1     		bne	.L9
 235              	.L6:
 124:../system/src/cortexm/exception-handlers.c ****     {
 125:../system/src/cortexm/exception-handlers.c ****       trace_printf (" MMFAR = %08X\n", mmfar);
 126:../system/src/cortexm/exception-handlers.c ****     }
 127:../system/src/cortexm/exception-handlers.c ****   if (cfsr & (1UL << 15))
 236              		.loc 1 127 3 is_stmt 1 view .LVU33
 237              		.loc 1 127 6 is_stmt 0 view .LVU34
 238 007e 15F4004F 		tst	r5, #32768
 239 0082 0CD1     		bne	.L10
 240              	.L7:
 128:../system/src/cortexm/exception-handlers.c ****     {
 129:../system/src/cortexm/exception-handlers.c ****       trace_printf (" BFAR =  %08X\n", bfar);
 130:../system/src/cortexm/exception-handlers.c ****     }
 131:../system/src/cortexm/exception-handlers.c ****   trace_printf ("Misc\n");
 241              		.loc 1 131 3 is_stmt 1 view .LVU35
 242 0084 1748     		ldr	r0, .L11+60
 243 0086 FFF7FEFF 		bl	trace_printf
 244              	.LVL18:
 132:../system/src/cortexm/exception-handlers.c ****   trace_printf (" LR/EXC_RETURN= %08X\n", lr);
 245              		.loc 1 132 3 view .LVU36
 246 008a 0699     		ldr	r1, [sp, #24]
 247 008c 1648     		ldr	r0, .L11+64
 248 008e FFF7FEFF 		bl	trace_printf
 249              	.LVL19:
 133:../system/src/cortexm/exception-handlers.c **** }
 250              		.loc 1 133 1 is_stmt 0 view .LVU37
 251 0092 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 252              	.LVL20:
 253              	.L9:
 125:../system/src/cortexm/exception-handlers.c ****     }
 254              		.loc 1 125 7 is_stmt 1 view .LVU38
 255 0094 3946     		mov	r1, r7
 256 0096 1548     		ldr	r0, .L11+68
 257 0098 FFF7FEFF 		bl	trace_printf
 258              	.LVL21:
 259 009c EFE7     		b	.L6
 260              	.L10:
 129:../system/src/cortexm/exception-handlers.c ****     }
 261              		.loc 1 129 7 view .LVU39
 262 009e 3146     		mov	r1, r6
 263 00a0 1348     		ldr	r0, .L11+72
 264 00a2 FFF7FEFF 		bl	trace_printf
 265              	.LVL22:
 266 00a6 EDE7     		b	.L7
 267              	.L12:
 268              		.align	2
 269              	.L11:
 270 00a8 00000000 		.word	.LC0
 271 00ac 10000000 		.word	.LC1
 272 00b0 20000000 		.word	.LC2
 273 00b4 30000000 		.word	.LC3
 274 00b8 40000000 		.word	.LC4
 275 00bc 50000000 		.word	.LC5
 276 00c0 60000000 		.word	.LC6
 277 00c4 70000000 		.word	.LC7
 278 00c8 80000000 		.word	.LC8
 279 00cc 90000000 		.word	.LC9
 280 00d0 9C000000 		.word	.LC10
 281 00d4 00ED00E0 		.word	-536810240
 282 00d8 AC000000 		.word	.LC11
 283 00dc BC000000 		.word	.LC12
 284 00e0 CC000000 		.word	.LC13
 285 00e4 FC000000 		.word	.LC16
 286 00e8 04010000 		.word	.LC17
 287 00ec DC000000 		.word	.LC14
 288 00f0 EC000000 		.word	.LC15
 289              		.cfi_endproc
 290              	.LFE60:
 292              		.section	.text.isSemihosting,"ax",%progbits
 293              		.align	1
 294              		.global	isSemihosting
 295              		.syntax unified
 296              		.thumb
 297              		.thumb_func
 299              	isSemihosting:
 300              	.LVL23:
 301              	.LFB61:
 134:../system/src/cortexm/exception-handlers.c **** 
 135:../system/src/cortexm/exception-handlers.c **** #endif // defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__)
 136:../system/src/cortexm/exception-handlers.c **** 
 137:../system/src/cortexm/exception-handlers.c **** #if defined(__ARM_ARCH_6M__)
 138:../system/src/cortexm/exception-handlers.c **** 
 139:../system/src/cortexm/exception-handlers.c **** void
 140:../system/src/cortexm/exception-handlers.c **** dumpExceptionStack (ExceptionStackFrame* frame, uint32_t lr)
 141:../system/src/cortexm/exception-handlers.c **** {
 142:../system/src/cortexm/exception-handlers.c ****   trace_printf ("Stack frame:\n");
 143:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R0 =  %08X\n", frame->r0);
 144:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R1 =  %08X\n", frame->r1);
 145:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R2 =  %08X\n", frame->r2);
 146:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R3 =  %08X\n", frame->r3);
 147:../system/src/cortexm/exception-handlers.c ****   trace_printf (" R12 = %08X\n", frame->r12);
 148:../system/src/cortexm/exception-handlers.c ****   trace_printf (" LR =  %08X\n", frame->lr);
 149:../system/src/cortexm/exception-handlers.c ****   trace_printf (" PC =  %08X\n", frame->pc);
 150:../system/src/cortexm/exception-handlers.c ****   trace_printf (" PSR = %08X\n", frame->psr);
 151:../system/src/cortexm/exception-handlers.c ****   trace_printf ("Misc\n");
 152:../system/src/cortexm/exception-handlers.c ****   trace_printf (" LR/EXC_RETURN= %08X\n", lr);
 153:../system/src/cortexm/exception-handlers.c **** }
 154:../system/src/cortexm/exception-handlers.c **** 
 155:../system/src/cortexm/exception-handlers.c **** #endif // defined(__ARM_ARCH_6M__)
 156:../system/src/cortexm/exception-handlers.c **** 
 157:../system/src/cortexm/exception-handlers.c **** #endif // defined(TRACE)
 158:../system/src/cortexm/exception-handlers.c **** 
 159:../system/src/cortexm/exception-handlers.c **** // ----------------------------------------------------------------------------
 160:../system/src/cortexm/exception-handlers.c **** 
 161:../system/src/cortexm/exception-handlers.c **** #if defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__)
 162:../system/src/cortexm/exception-handlers.c **** 
 163:../system/src/cortexm/exception-handlers.c **** #if defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEMIHOSTING_STDOUT) || defined(OS_USE_TRACE
 164:../system/src/cortexm/exception-handlers.c **** 
 165:../system/src/cortexm/exception-handlers.c **** int
 166:../system/src/cortexm/exception-handlers.c **** isSemihosting (ExceptionStackFrame* frame, uint16_t opCode);
 167:../system/src/cortexm/exception-handlers.c **** 
 168:../system/src/cortexm/exception-handlers.c **** /**
 169:../system/src/cortexm/exception-handlers.c ****  * This function provides the minimum functionality to make a semihosting program execute even with
 170:../system/src/cortexm/exception-handlers.c ****  * @param frame pointer to an exception stack frame.
 171:../system/src/cortexm/exception-handlers.c ****  * @param opCode the 16-bin word of the BKPT instruction.
 172:../system/src/cortexm/exception-handlers.c ****  * @return 1 if the instruction was a valid semihosting call; 0 otherwise.
 173:../system/src/cortexm/exception-handlers.c ****  */
 174:../system/src/cortexm/exception-handlers.c **** int
 175:../system/src/cortexm/exception-handlers.c **** isSemihosting (ExceptionStackFrame* frame, uint16_t opCode)
 176:../system/src/cortexm/exception-handlers.c **** {
 302              		.loc 1 176 1 view -0
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 0
 305              		@ frame_needed = 0, uses_anonymous_args = 0
 306              		@ link register save eliminated.
 177:../system/src/cortexm/exception-handlers.c ****   uint16_t* pw = (uint16_t*) frame->pc;
 307              		.loc 1 177 3 view .LVU41
 308              		.loc 1 177 35 is_stmt 0 view .LVU42
 309 0000 8369     		ldr	r3, [r0, #24]
 310              	.LVL24:
 178:../system/src/cortexm/exception-handlers.c ****   if (*pw == opCode)
 311              		.loc 1 178 3 is_stmt 1 view .LVU43
 312              		.loc 1 178 7 is_stmt 0 view .LVU44
 313 0002 1A88     		ldrh	r2, [r3]
 314              		.loc 1 178 6 view .LVU45
 315 0004 8A42     		cmp	r2, r1
 316 0006 01D0     		beq	.L17
 179:../system/src/cortexm/exception-handlers.c ****     {
 180:../system/src/cortexm/exception-handlers.c ****       uint32_t r0 = frame->r0;
 181:../system/src/cortexm/exception-handlers.c **** #if defined(OS_DEBUG_SEMIHOSTING_FAULTS) || defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEM
 182:../system/src/cortexm/exception-handlers.c ****       uint32_t r1 = frame->r1;
 183:../system/src/cortexm/exception-handlers.c **** #endif
 184:../system/src/cortexm/exception-handlers.c **** #if defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEMIHOSTING_STDOUT)
 185:../system/src/cortexm/exception-handlers.c ****       uint32_t* blk = (uint32_t*) r1;
 186:../system/src/cortexm/exception-handlers.c **** #endif
 187:../system/src/cortexm/exception-handlers.c **** 
 188:../system/src/cortexm/exception-handlers.c **** #if defined(OS_DEBUG_SEMIHOSTING_FAULTS)
 189:../system/src/cortexm/exception-handlers.c ****       // trace_printf ("sh r0=%d\n", r0);
 190:../system/src/cortexm/exception-handlers.c **** #endif
 191:../system/src/cortexm/exception-handlers.c **** 
 192:../system/src/cortexm/exception-handlers.c ****       switch (r0)
 193:../system/src/cortexm/exception-handlers.c ****         {
 194:../system/src/cortexm/exception-handlers.c **** 
 195:../system/src/cortexm/exception-handlers.c **** #if defined(OS_USE_SEMIHOSTING)
 196:../system/src/cortexm/exception-handlers.c **** 
 197:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_CLOCK:
 198:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_ELAPSED:
 199:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_FLEN:
 200:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_GET_CMDLINE:
 201:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_REMOVE:
 202:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_RENAME:
 203:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_SEEK:
 204:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_SYSTEM:
 205:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_TICKFREQ:
 206:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_TMPNAM:
 207:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_ISTTY:
 208:../system/src/cortexm/exception-handlers.c ****           frame->r0 = (uint32_t)-1; // the call is not successful or not supported
 209:../system/src/cortexm/exception-handlers.c ****           break;
 210:../system/src/cortexm/exception-handlers.c **** 
 211:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_CLOSE:
 212:../system/src/cortexm/exception-handlers.c ****           frame->r0 = 0; // call is successful
 213:../system/src/cortexm/exception-handlers.c ****           break;
 214:../system/src/cortexm/exception-handlers.c **** 
 215:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_ERRNO:
 216:../system/src/cortexm/exception-handlers.c ****           frame->r0 = 0; // the value of the C library errno variable.
 217:../system/src/cortexm/exception-handlers.c ****           break;
 218:../system/src/cortexm/exception-handlers.c **** 
 219:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_HEAPINFO:
 220:../system/src/cortexm/exception-handlers.c ****           blk[0] = 0; // heap_base
 221:../system/src/cortexm/exception-handlers.c ****           blk[1] = 0; // heap_limit
 222:../system/src/cortexm/exception-handlers.c ****           blk[2] = 0; // stack_base
 223:../system/src/cortexm/exception-handlers.c ****           blk[3] = 0; // stack_limit
 224:../system/src/cortexm/exception-handlers.c ****           break;
 225:../system/src/cortexm/exception-handlers.c **** 
 226:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_ISERROR:
 227:../system/src/cortexm/exception-handlers.c ****           frame->r0 = 0; // 0 if the status word is not an error indication
 228:../system/src/cortexm/exception-handlers.c ****           break;
 229:../system/src/cortexm/exception-handlers.c **** 
 230:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_READ:
 231:../system/src/cortexm/exception-handlers.c ****           // If R0 contains the same value as word 3, the call has
 232:../system/src/cortexm/exception-handlers.c ****           // failed and EOF is assumed.
 233:../system/src/cortexm/exception-handlers.c ****           frame->r0 = blk[2];
 234:../system/src/cortexm/exception-handlers.c ****           break;
 235:../system/src/cortexm/exception-handlers.c **** 
 236:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_READC:
 237:../system/src/cortexm/exception-handlers.c ****           frame->r0 = '\0'; // the byte read from the console.
 238:../system/src/cortexm/exception-handlers.c ****           break;
 239:../system/src/cortexm/exception-handlers.c **** 
 240:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_TIME:
 241:../system/src/cortexm/exception-handlers.c ****           frame->r0 = 0; // the number of seconds since 00:00 January 1, 1970.
 242:../system/src/cortexm/exception-handlers.c ****           break;
 243:../system/src/cortexm/exception-handlers.c **** 
 244:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_ReportException:
 245:../system/src/cortexm/exception-handlers.c **** 
 246:../system/src/cortexm/exception-handlers.c ****           NVIC_SystemReset ();
 247:../system/src/cortexm/exception-handlers.c ****           // Should not reach here
 248:../system/src/cortexm/exception-handlers.c ****           return 0;
 249:../system/src/cortexm/exception-handlers.c **** 
 250:../system/src/cortexm/exception-handlers.c **** #endif // defined(OS_USE_SEMIHOSTING)
 251:../system/src/cortexm/exception-handlers.c **** 
 252:../system/src/cortexm/exception-handlers.c **** #if defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEMIHOSTING_STDOUT)
 253:../system/src/cortexm/exception-handlers.c **** 
 254:../system/src/cortexm/exception-handlers.c **** #define HANDLER_STDIN   (1)
 255:../system/src/cortexm/exception-handlers.c **** #define HANDLER_STDOUT  (2)
 256:../system/src/cortexm/exception-handlers.c **** #define HANDLER_STDERR  (3)
 257:../system/src/cortexm/exception-handlers.c **** 
 258:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_OPEN:
 259:../system/src/cortexm/exception-handlers.c ****           // Process only standard io/out/err and return 1/2/3
 260:../system/src/cortexm/exception-handlers.c ****           if (strcmp ((char*) blk[0], ":tt") == 0)
 261:../system/src/cortexm/exception-handlers.c ****             {
 262:../system/src/cortexm/exception-handlers.c ****               if ((blk[1] == 0))
 263:../system/src/cortexm/exception-handlers.c ****                 {
 264:../system/src/cortexm/exception-handlers.c ****                   frame->r0 = HANDLER_STDIN;
 265:../system/src/cortexm/exception-handlers.c ****                   break;
 266:../system/src/cortexm/exception-handlers.c ****                 }
 267:../system/src/cortexm/exception-handlers.c ****               else if (blk[1] == 4)
 268:../system/src/cortexm/exception-handlers.c ****                 {
 269:../system/src/cortexm/exception-handlers.c ****                   frame->r0 = HANDLER_STDOUT;
 270:../system/src/cortexm/exception-handlers.c ****                   break;
 271:../system/src/cortexm/exception-handlers.c ****                 }
 272:../system/src/cortexm/exception-handlers.c ****               else if (blk[1] == 8)
 273:../system/src/cortexm/exception-handlers.c ****                 {
 274:../system/src/cortexm/exception-handlers.c ****                   frame->r0 = HANDLER_STDERR;
 275:../system/src/cortexm/exception-handlers.c ****                   break;
 276:../system/src/cortexm/exception-handlers.c ****                 }
 277:../system/src/cortexm/exception-handlers.c ****             }
 278:../system/src/cortexm/exception-handlers.c ****           frame->r0 = (uint32_t)-1; // the call is not successful or not supported
 279:../system/src/cortexm/exception-handlers.c ****           break;
 280:../system/src/cortexm/exception-handlers.c **** 
 281:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_WRITE:
 282:../system/src/cortexm/exception-handlers.c ****           // Silently ignore writes to stdout/stderr, fail on all other handler.
 283:../system/src/cortexm/exception-handlers.c ****           if ((blk[0] == HANDLER_STDOUT) || (blk[0] == HANDLER_STDERR))
 284:../system/src/cortexm/exception-handlers.c ****             {
 285:../system/src/cortexm/exception-handlers.c **** #if defined(OS_DEBUG_SEMIHOSTING_FAULTS)
 286:../system/src/cortexm/exception-handlers.c ****               frame->r0 = (uint32_t) blk[2]
 287:../system/src/cortexm/exception-handlers.c ****                   - trace_write ((char*) blk[1], blk[2]);
 288:../system/src/cortexm/exception-handlers.c **** #else
 289:../system/src/cortexm/exception-handlers.c ****               frame->r0 = 0; // all sent, no more.
 290:../system/src/cortexm/exception-handlers.c **** #endif // defined(OS_DEBUG_SEMIHOSTING_FAULTS)
 291:../system/src/cortexm/exception-handlers.c ****             }
 292:../system/src/cortexm/exception-handlers.c ****           else
 293:../system/src/cortexm/exception-handlers.c ****             {
 294:../system/src/cortexm/exception-handlers.c ****               // If other handler, return the total number of bytes
 295:../system/src/cortexm/exception-handlers.c ****               // as the number of bytes that are not written.
 296:../system/src/cortexm/exception-handlers.c ****               frame->r0 = blk[2];
 297:../system/src/cortexm/exception-handlers.c ****             }
 298:../system/src/cortexm/exception-handlers.c ****           break;
 299:../system/src/cortexm/exception-handlers.c **** 
 300:../system/src/cortexm/exception-handlers.c **** #endif // defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEMIHOSTING_STDOUT)
 301:../system/src/cortexm/exception-handlers.c **** 
 302:../system/src/cortexm/exception-handlers.c **** #if defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEMIHOSTING_STDOUT) || defined(OS_USE_TRACE
 303:../system/src/cortexm/exception-handlers.c **** 
 304:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_WRITEC:
 305:../system/src/cortexm/exception-handlers.c **** #if defined(OS_DEBUG_SEMIHOSTING_FAULTS)
 306:../system/src/cortexm/exception-handlers.c ****           {
 307:../system/src/cortexm/exception-handlers.c ****             char ch = *((char*) r1);
 308:../system/src/cortexm/exception-handlers.c ****             trace_write (&ch, 1);
 309:../system/src/cortexm/exception-handlers.c ****           }
 310:../system/src/cortexm/exception-handlers.c **** #endif
 311:../system/src/cortexm/exception-handlers.c ****           // Register R0 is corrupted.
 312:../system/src/cortexm/exception-handlers.c ****           break;
 313:../system/src/cortexm/exception-handlers.c **** 
 314:../system/src/cortexm/exception-handlers.c ****         case SEMIHOSTING_SYS_WRITE0:
 315:../system/src/cortexm/exception-handlers.c **** #if defined(OS_DEBUG_SEMIHOSTING_FAULTS)
 316:../system/src/cortexm/exception-handlers.c ****           {
 317:../system/src/cortexm/exception-handlers.c ****             char* p = ((char*) r1);
 318:../system/src/cortexm/exception-handlers.c ****             trace_write (p, strlen (p));
 319:../system/src/cortexm/exception-handlers.c ****           }
 320:../system/src/cortexm/exception-handlers.c **** #endif
 321:../system/src/cortexm/exception-handlers.c ****           // Register R0 is corrupted.
 322:../system/src/cortexm/exception-handlers.c ****           break;
 323:../system/src/cortexm/exception-handlers.c **** 
 324:../system/src/cortexm/exception-handlers.c **** #endif
 325:../system/src/cortexm/exception-handlers.c **** 
 326:../system/src/cortexm/exception-handlers.c ****         default:
 327:../system/src/cortexm/exception-handlers.c ****           return 0;
 328:../system/src/cortexm/exception-handlers.c ****         }
 329:../system/src/cortexm/exception-handlers.c **** 
 330:../system/src/cortexm/exception-handlers.c ****       // Alter the PC to make the exception returns to
 331:../system/src/cortexm/exception-handlers.c ****       // the instruction after the faulty BKPT.
 332:../system/src/cortexm/exception-handlers.c ****       frame->pc += 2;
 333:../system/src/cortexm/exception-handlers.c ****       return 1;
 334:../system/src/cortexm/exception-handlers.c ****     }
 335:../system/src/cortexm/exception-handlers.c ****   return 0;
 317              		.loc 1 335 10 view .LVU46
 318 0008 0020     		movs	r0, #0
 319              	.LVL25:
 320              		.loc 1 335 10 view .LVU47
 321 000a 7047     		bx	lr
 322              	.LVL26:
 323              	.L17:
 324              	.LBB2:
 180:../system/src/cortexm/exception-handlers.c **** #if defined(OS_DEBUG_SEMIHOSTING_FAULTS) || defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEM
 325              		.loc 1 180 7 is_stmt 1 view .LVU48
 180:../system/src/cortexm/exception-handlers.c **** #if defined(OS_DEBUG_SEMIHOSTING_FAULTS) || defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEM
 326              		.loc 1 180 16 is_stmt 0 view .LVU49
 327 000c 0268     		ldr	r2, [r0]
 328              	.LVL27:
 192:../system/src/cortexm/exception-handlers.c ****         {
 329              		.loc 1 192 7 is_stmt 1 view .LVU50
 330 000e 033A     		subs	r2, r2, #3
 331              	.LVL28:
 192:../system/src/cortexm/exception-handlers.c ****         {
 332              		.loc 1 192 7 is_stmt 0 view .LVU51
 333 0010 012A     		cmp	r2, #1
 334 0012 01D9     		bls	.L18
 327:../system/src/cortexm/exception-handlers.c ****         }
 335              		.loc 1 327 18 view .LVU52
 336 0014 0020     		movs	r0, #0
 337              	.LVL29:
 327:../system/src/cortexm/exception-handlers.c ****         }
 338              		.loc 1 327 18 view .LVU53
 339              	.LBE2:
 336:../system/src/cortexm/exception-handlers.c **** }
 340              		.loc 1 336 1 view .LVU54
 341 0016 7047     		bx	lr
 342              	.LVL30:
 343              	.L18:
 344              	.LBB3:
 332:../system/src/cortexm/exception-handlers.c ****       return 1;
 345              		.loc 1 332 7 is_stmt 1 view .LVU55
 332:../system/src/cortexm/exception-handlers.c ****       return 1;
 346              		.loc 1 332 17 is_stmt 0 view .LVU56
 347 0018 0233     		adds	r3, r3, #2
 348              	.LVL31:
 332:../system/src/cortexm/exception-handlers.c ****       return 1;
 349              		.loc 1 332 17 view .LVU57
 350 001a 8361     		str	r3, [r0, #24]
 351              	.LVL32:
 333:../system/src/cortexm/exception-handlers.c ****     }
 352              		.loc 1 333 7 is_stmt 1 view .LVU58
 333:../system/src/cortexm/exception-handlers.c ****     }
 353              		.loc 1 333 14 is_stmt 0 view .LVU59
 354 001c 0120     		movs	r0, #1
 355              	.LVL33:
 333:../system/src/cortexm/exception-handlers.c ****     }
 356              		.loc 1 333 14 view .LVU60
 357 001e 7047     		bx	lr
 358              	.LBE3:
 359              		.cfi_endproc
 360              	.LFE61:
 362              		.section	.after_vectors
 363              		.align	1
 364              		.weak	HardFault_Handler
 365              		.syntax unified
 366              		.thumb
 367              		.thumb_func
 369              	HardFault_Handler:
 370              	.LFB62:
 337:../system/src/cortexm/exception-handlers.c **** 
 338:../system/src/cortexm/exception-handlers.c **** #endif
 339:../system/src/cortexm/exception-handlers.c **** 
 340:../system/src/cortexm/exception-handlers.c **** // Hard Fault handler wrapper in assembly.
 341:../system/src/cortexm/exception-handlers.c **** // It extracts the location of stack frame and passes it to handler
 342:../system/src/cortexm/exception-handlers.c **** // in C as a pointer. We also pass the LR value as second
 343:../system/src/cortexm/exception-handlers.c **** // parameter.
 344:../system/src/cortexm/exception-handlers.c **** // (Based on Joseph Yiu's, The Definitive Guide to ARM Cortex-M3 and
 345:../system/src/cortexm/exception-handlers.c **** // Cortex-M4 Processors, Third Edition, Chap. 12.8, page 402).
 346:../system/src/cortexm/exception-handlers.c **** 
 347:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak,naked))
 348:../system/src/cortexm/exception-handlers.c **** HardFault_Handler (void)
 349:../system/src/cortexm/exception-handlers.c **** {
 371              		.loc 1 349 1 is_stmt 1 view -0
 372              		.cfi_startproc
 373              		@ Naked Function: prologue and epilogue provided by programmer.
 374              		@ args = 0, pretend = 0, frame = 0
 375              		@ frame_needed = 0, uses_anonymous_args = 0
 350:../system/src/cortexm/exception-handlers.c ****   asm volatile(
 376              		.loc 1 350 3 view .LVU62
 377              		.syntax unified
 378              	@ 350 "../system/src/cortexm/exception-handlers.c" 1
 379 000a 1EF0040F 		 tst lr,#4       
 380 000e 0CBF     	 ite eq          
 381 0010 EFF30880 	 mrseq r0,msp    
 382 0014 EFF30980 	 mrsne r0,psp    
 383 0018 7146     	 mov r1,lr       
 384 001a 414A     	 ldr r2,=HardFault_Handler_C 
 385 001c 1047     	 bx r2
 386              	@ 0 "" 2
 351:../system/src/cortexm/exception-handlers.c ****       " tst lr,#4       \n"
 352:../system/src/cortexm/exception-handlers.c ****       " ite eq          \n"
 353:../system/src/cortexm/exception-handlers.c ****       " mrseq r0,msp    \n"
 354:../system/src/cortexm/exception-handlers.c ****       " mrsne r0,psp    \n"
 355:../system/src/cortexm/exception-handlers.c ****       " mov r1,lr       \n"
 356:../system/src/cortexm/exception-handlers.c ****       " ldr r2,=HardFault_Handler_C \n"
 357:../system/src/cortexm/exception-handlers.c ****       " bx r2"
 358:../system/src/cortexm/exception-handlers.c **** 
 359:../system/src/cortexm/exception-handlers.c ****       : /* Outputs */
 360:../system/src/cortexm/exception-handlers.c ****       : /* Inputs */
 361:../system/src/cortexm/exception-handlers.c ****       : /* Clobbers */
 362:../system/src/cortexm/exception-handlers.c ****   );
 363:../system/src/cortexm/exception-handlers.c **** }
 387              		.loc 1 363 1 is_stmt 0 view .LVU63
 388              		.thumb
 389              		.syntax unified
 390              		.cfi_endproc
 391              	.LFE62:
 393              		.section	.rodata.str1.4,"aMS",%progbits,1
 394              		.align	2
 395              	.LC18:
 396 0000 5B486172 		.ascii	"[HardFault]\012\000"
 396      64466175 
 396      6C745D0A 
 396      00
 397              		.section	.after_vectors
 398              		.align	1
 399              		.weak	HardFault_Handler_C
 400              		.syntax unified
 401              		.thumb
 402              		.thumb_func
 404              	HardFault_Handler_C:
 405              	.LVL34:
 406              	.LFB63:
 364:../system/src/cortexm/exception-handlers.c **** 
 365:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak,used))
 366:../system/src/cortexm/exception-handlers.c **** HardFault_Handler_C (ExceptionStackFrame* frame __attribute__((unused)),
 367:../system/src/cortexm/exception-handlers.c ****                      uint32_t lr __attribute__((unused)))
 368:../system/src/cortexm/exception-handlers.c **** {
 407              		.loc 1 368 1 is_stmt 1 view -0
 408              		.cfi_startproc
 409              		@ args = 0, pretend = 0, frame = 0
 410              		@ frame_needed = 0, uses_anonymous_args = 0
 411              		.loc 1 368 1 is_stmt 0 view .LVU65
 412 001e 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 413              		.cfi_def_cfa_offset 24
 414              		.cfi_offset 4, -24
 415              		.cfi_offset 5, -20
 416              		.cfi_offset 6, -16
 417              		.cfi_offset 7, -12
 418              		.cfi_offset 8, -8
 419              		.cfi_offset 14, -4
 420 0022 82B0     		sub	sp, sp, #8
 421              		.cfi_def_cfa_offset 32
 422 0024 0446     		mov	r4, r0
 423 0026 0D46     		mov	r5, r1
 369:../system/src/cortexm/exception-handlers.c **** #if defined(TRACE)
 370:../system/src/cortexm/exception-handlers.c ****   uint32_t mmfar = SCB->MMFAR; // MemManage Fault Address
 424              		.loc 1 370 3 is_stmt 1 view .LVU66
 425              		.loc 1 370 12 is_stmt 0 view .LVU67
 426 0028 124B     		ldr	r3, .L26
 427 002a 5F6B     		ldr	r7, [r3, #52]
 428              	.LVL35:
 371:../system/src/cortexm/exception-handlers.c ****   uint32_t bfar = SCB->BFAR; // Bus Fault Address
 429              		.loc 1 371 3 is_stmt 1 view .LVU68
 430              		.loc 1 371 12 is_stmt 0 view .LVU69
 431 002c D3F83880 		ldr	r8, [r3, #56]
 432              	.LVL36:
 372:../system/src/cortexm/exception-handlers.c ****   uint32_t cfsr = SCB->CFSR; // Configurable Fault Status Registers
 433              		.loc 1 372 3 is_stmt 1 view .LVU70
 434              		.loc 1 372 12 is_stmt 0 view .LVU71
 435 0030 9E6A     		ldr	r6, [r3, #40]
 436              	.LVL37:
 373:../system/src/cortexm/exception-handlers.c **** #endif
 374:../system/src/cortexm/exception-handlers.c **** 
 375:../system/src/cortexm/exception-handlers.c **** #if defined(OS_USE_SEMIHOSTING) || defined(OS_USE_TRACE_SEMIHOSTING_STDOUT) || defined(OS_USE_TRACE
 376:../system/src/cortexm/exception-handlers.c **** 
 377:../system/src/cortexm/exception-handlers.c ****   // If the BKPT instruction is executed with C_DEBUGEN == 0 and MON_EN == 0,
 378:../system/src/cortexm/exception-handlers.c ****   // it will cause the processor to enter a HardFault exception, with DEBUGEVT
 379:../system/src/cortexm/exception-handlers.c ****   // in the Hard Fault Status register (HFSR) set to 1, and BKPT in the
 380:../system/src/cortexm/exception-handlers.c ****   // Debug Fault Status register (DFSR) also set to 1.
 381:../system/src/cortexm/exception-handlers.c **** 
 382:../system/src/cortexm/exception-handlers.c ****   if (((SCB->DFSR & SCB_DFSR_BKPT_Msk) != 0)
 437              		.loc 1 382 3 is_stmt 1 view .LVU72
 438              		.loc 1 382 12 is_stmt 0 view .LVU73
 439 0032 1B6B     		ldr	r3, [r3, #48]
 440              		.loc 1 382 6 view .LVU74
 441 0034 13F0020F 		tst	r3, #2
 442 0038 03D0     		beq	.L21
 383:../system/src/cortexm/exception-handlers.c ****       && ((SCB->HFSR & SCB_HFSR_DEBUGEVT_Msk) != 0))
 443              		.loc 1 383 15 view .LVU75
 444 003a 0E4B     		ldr	r3, .L26
 445 003c DB6A     		ldr	r3, [r3, #44]
 446              		.loc 1 383 7 view .LVU76
 447 003e 002B     		cmp	r3, #0
 448 0040 0BDB     		blt	.L25
 449              	.LVL38:
 450              	.L21:
 384:../system/src/cortexm/exception-handlers.c ****     {
 385:../system/src/cortexm/exception-handlers.c ****       if (isSemihosting (frame, 0xBE00 + (AngelSWI & 0xFF)))
 386:../system/src/cortexm/exception-handlers.c ****         {
 387:../system/src/cortexm/exception-handlers.c ****           // Clear the exception cause in exception status.
 388:../system/src/cortexm/exception-handlers.c ****           SCB->HFSR = SCB_HFSR_DEBUGEVT_Msk;
 389:../system/src/cortexm/exception-handlers.c **** 
 390:../system/src/cortexm/exception-handlers.c ****           // Continue after the BKPT
 391:../system/src/cortexm/exception-handlers.c ****           return;
 392:../system/src/cortexm/exception-handlers.c ****         }
 393:../system/src/cortexm/exception-handlers.c ****     }
 394:../system/src/cortexm/exception-handlers.c **** 
 395:../system/src/cortexm/exception-handlers.c **** #endif
 396:../system/src/cortexm/exception-handlers.c **** 
 397:../system/src/cortexm/exception-handlers.c **** #if defined(TRACE)
 398:../system/src/cortexm/exception-handlers.c ****   trace_printf ("[HardFault]\n");
 451              		.loc 1 398 3 is_stmt 1 view .LVU77
 452 0042 0D48     		ldr	r0, .L26+4
 453 0044 FFF7FEFF 		bl	trace_printf
 454              	.LVL39:
 399:../system/src/cortexm/exception-handlers.c ****   dumpExceptionStack (frame, cfsr, mmfar, bfar, lr);
 455              		.loc 1 399 3 view .LVU78
 456 0048 0095     		str	r5, [sp]
 457 004a 4346     		mov	r3, r8
 458 004c 3A46     		mov	r2, r7
 459 004e 3146     		mov	r1, r6
 460 0050 2046     		mov	r0, r4
 461 0052 FFF7FEFF 		bl	dumpExceptionStack
 462              	.LVL40:
 400:../system/src/cortexm/exception-handlers.c **** #endif // defined(TRACE)
 401:../system/src/cortexm/exception-handlers.c **** 
 402:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
 403:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
 463              		.loc 1 403 3 view .LVU79
 464              		.syntax unified
 465              	@ 403 "../system/src/cortexm/exception-handlers.c" 1
 466 0056 00BE     		bkpt 0
 467              	@ 0 "" 2
 468              		.thumb
 469              		.syntax unified
 470              	.L22:
 404:../system/src/cortexm/exception-handlers.c **** #endif
 405:../system/src/cortexm/exception-handlers.c ****   while (1)
 471              		.loc 1 405 3 discriminator 1 view .LVU80
 406:../system/src/cortexm/exception-handlers.c ****     {
 407:../system/src/cortexm/exception-handlers.c ****     }
 472              		.loc 1 407 5 discriminator 1 view .LVU81
 405:../system/src/cortexm/exception-handlers.c ****     {
 473              		.loc 1 405 9 discriminator 1 view .LVU82
 474 0058 FEE7     		b	.L22
 475              	.LVL41:
 476              	.L25:
 385:../system/src/cortexm/exception-handlers.c ****         {
 477              		.loc 1 385 7 view .LVU83
 385:../system/src/cortexm/exception-handlers.c ****         {
 478              		.loc 1 385 11 is_stmt 0 view .LVU84
 479 005a 4BF6AB61 		movw	r1, #48811
 480              	.LVL42:
 385:../system/src/cortexm/exception-handlers.c ****         {
 481              		.loc 1 385 11 view .LVU85
 482 005e FFF7FEFF 		bl	isSemihosting
 483              	.LVL43:
 385:../system/src/cortexm/exception-handlers.c ****         {
 484              		.loc 1 385 10 view .LVU86
 485 0062 0028     		cmp	r0, #0
 486 0064 EDD0     		beq	.L21
 388:../system/src/cortexm/exception-handlers.c **** 
 487              		.loc 1 388 11 is_stmt 1 view .LVU87
 388:../system/src/cortexm/exception-handlers.c **** 
 488              		.loc 1 388 21 is_stmt 0 view .LVU88
 489 0066 034B     		ldr	r3, .L26
 490 0068 4FF00042 		mov	r2, #-2147483648
 491 006c DA62     		str	r2, [r3, #44]
 391:../system/src/cortexm/exception-handlers.c ****         }
 492              		.loc 1 391 11 is_stmt 1 view .LVU89
 408:../system/src/cortexm/exception-handlers.c **** }
 493              		.loc 1 408 1 is_stmt 0 view .LVU90
 494 006e 02B0     		add	sp, sp, #8
 495              		.cfi_def_cfa_offset 24
 496              		@ sp needed
 497 0070 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 498              	.LVL44:
 499              	.L27:
 500              		.loc 1 408 1 view .LVU91
 501              		.align	2
 502              	.L26:
 503 0074 00ED00E0 		.word	-536810240
 504 0078 00000000 		.word	.LC18
 505              		.cfi_endproc
 506              	.LFE63:
 508              		.align	1
 509              		.weak	MemManage_Handler
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 514              	MemManage_Handler:
 515              	.LFB64:
 409:../system/src/cortexm/exception-handlers.c **** 
 410:../system/src/cortexm/exception-handlers.c **** #endif // defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__)
 411:../system/src/cortexm/exception-handlers.c **** 
 412:../system/src/cortexm/exception-handlers.c **** 
 413:../system/src/cortexm/exception-handlers.c **** #if defined(__ARM_ARCH_6M__)
 414:../system/src/cortexm/exception-handlers.c **** 
 415:../system/src/cortexm/exception-handlers.c **** // Hard Fault handler wrapper in assembly.
 416:../system/src/cortexm/exception-handlers.c **** // It extracts the location of stack frame and passes it to handler
 417:../system/src/cortexm/exception-handlers.c **** // in C as a pointer. We also pass the LR value as second
 418:../system/src/cortexm/exception-handlers.c **** // parameter.
 419:../system/src/cortexm/exception-handlers.c **** // (Based on Joseph Yiu's, The Definitive Guide to ARM Cortex-M0
 420:../system/src/cortexm/exception-handlers.c **** // First Edition, Chap. 12.8, page 402).
 421:../system/src/cortexm/exception-handlers.c **** 
 422:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak,naked))
 423:../system/src/cortexm/exception-handlers.c **** HardFault_Handler (void)
 424:../system/src/cortexm/exception-handlers.c **** {
 425:../system/src/cortexm/exception-handlers.c ****   asm volatile(
 426:../system/src/cortexm/exception-handlers.c ****       " movs r0,#4      \n"
 427:../system/src/cortexm/exception-handlers.c ****       " mov r1,lr       \n"
 428:../system/src/cortexm/exception-handlers.c ****       " tst r0,r1       \n"
 429:../system/src/cortexm/exception-handlers.c ****       " beq 1f          \n"
 430:../system/src/cortexm/exception-handlers.c ****       " mrs r0,psp      \n"
 431:../system/src/cortexm/exception-handlers.c ****       " b   2f          \n"
 432:../system/src/cortexm/exception-handlers.c ****       "1:               \n"
 433:../system/src/cortexm/exception-handlers.c ****       " mrs r0,msp      \n"
 434:../system/src/cortexm/exception-handlers.c ****       "2:"
 435:../system/src/cortexm/exception-handlers.c ****       " mov r1,lr       \n"
 436:../system/src/cortexm/exception-handlers.c ****       " ldr r2,=HardFault_Handler_C \n"
 437:../system/src/cortexm/exception-handlers.c ****       " bx r2"
 438:../system/src/cortexm/exception-handlers.c **** 
 439:../system/src/cortexm/exception-handlers.c ****       : /* Outputs */
 440:../system/src/cortexm/exception-handlers.c ****       : /* Inputs */
 441:../system/src/cortexm/exception-handlers.c ****       : /* Clobbers */
 442:../system/src/cortexm/exception-handlers.c ****   );
 443:../system/src/cortexm/exception-handlers.c **** }
 444:../system/src/cortexm/exception-handlers.c **** 
 445:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak,used))
 446:../system/src/cortexm/exception-handlers.c **** HardFault_Handler_C (ExceptionStackFrame* frame __attribute__((unused)),
 447:../system/src/cortexm/exception-handlers.c ****                      uint32_t lr __attribute__((unused)))
 448:../system/src/cortexm/exception-handlers.c **** {
 449:../system/src/cortexm/exception-handlers.c ****   // There is no semihosting support for Cortex-M0, since on ARMv6-M
 450:../system/src/cortexm/exception-handlers.c ****   // faults are fatal and it is not possible to return from the handler.
 451:../system/src/cortexm/exception-handlers.c **** 
 452:../system/src/cortexm/exception-handlers.c **** #if defined(TRACE)
 453:../system/src/cortexm/exception-handlers.c ****   trace_printf ("[HardFault]\n");
 454:../system/src/cortexm/exception-handlers.c ****   dumpExceptionStack (frame, lr);
 455:../system/src/cortexm/exception-handlers.c **** #endif // defined(TRACE)
 456:../system/src/cortexm/exception-handlers.c **** 
 457:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
 458:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
 459:../system/src/cortexm/exception-handlers.c **** #endif
 460:../system/src/cortexm/exception-handlers.c ****   while (1)
 461:../system/src/cortexm/exception-handlers.c ****     {
 462:../system/src/cortexm/exception-handlers.c ****     }
 463:../system/src/cortexm/exception-handlers.c **** }
 464:../system/src/cortexm/exception-handlers.c **** 
 465:../system/src/cortexm/exception-handlers.c **** #endif // defined(__ARM_ARCH_6M__)
 466:../system/src/cortexm/exception-handlers.c **** 
 467:../system/src/cortexm/exception-handlers.c **** 
 468:../system/src/cortexm/exception-handlers.c **** #if defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__)
 469:../system/src/cortexm/exception-handlers.c **** 
 470:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak))
 471:../system/src/cortexm/exception-handlers.c **** MemManage_Handler (void)
 472:../system/src/cortexm/exception-handlers.c **** {
 516              		.loc 1 472 1 is_stmt 1 view -0
 517              		.cfi_startproc
 518              		@ args = 0, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 520              		@ link register save eliminated.
 473:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
 474:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
 521              		.loc 1 474 3 view .LVU93
 522              		.syntax unified
 523              	@ 474 "../system/src/cortexm/exception-handlers.c" 1
 524 007c 00BE     		bkpt 0
 525              	@ 0 "" 2
 526              		.thumb
 527              		.syntax unified
 528              	.L29:
 475:../system/src/cortexm/exception-handlers.c **** #endif
 476:../system/src/cortexm/exception-handlers.c ****   while (1)
 529              		.loc 1 476 3 discriminator 1 view .LVU94
 477:../system/src/cortexm/exception-handlers.c ****     {
 478:../system/src/cortexm/exception-handlers.c ****     }
 530              		.loc 1 478 5 discriminator 1 view .LVU95
 476:../system/src/cortexm/exception-handlers.c ****     {
 531              		.loc 1 476 9 discriminator 1 view .LVU96
 532 007e FEE7     		b	.L29
 533              		.cfi_endproc
 534              	.LFE64:
 536              		.align	1
 537              		.weak	BusFault_Handler
 538              		.syntax unified
 539              		.thumb
 540              		.thumb_func
 542              	BusFault_Handler:
 543              	.LFB65:
 479:../system/src/cortexm/exception-handlers.c **** }
 480:../system/src/cortexm/exception-handlers.c **** 
 481:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak,naked))
 482:../system/src/cortexm/exception-handlers.c **** BusFault_Handler (void)
 483:../system/src/cortexm/exception-handlers.c **** {
 544              		.loc 1 483 1 view -0
 545              		.cfi_startproc
 546              		@ Naked Function: prologue and epilogue provided by programmer.
 547              		@ args = 0, pretend = 0, frame = 0
 548              		@ frame_needed = 0, uses_anonymous_args = 0
 484:../system/src/cortexm/exception-handlers.c ****   asm volatile(
 549              		.loc 1 484 3 view .LVU98
 550              		.syntax unified
 551              	@ 484 "../system/src/cortexm/exception-handlers.c" 1
 552 0080 1EF0040F 		 tst lr,#4       
 553 0084 0CBF     	 ite eq          
 554 0086 EFF30880 	 mrseq r0,msp    
 555 008a EFF30980 	 mrsne r0,psp    
 556 008e 7146     	 mov r1,lr       
 557 0090 244A     	 ldr r2,=BusFault_Handler_C 
 558 0092 1047     	 bx r2
 559              	@ 0 "" 2
 485:../system/src/cortexm/exception-handlers.c ****       " tst lr,#4       \n"
 486:../system/src/cortexm/exception-handlers.c ****       " ite eq          \n"
 487:../system/src/cortexm/exception-handlers.c ****       " mrseq r0,msp    \n"
 488:../system/src/cortexm/exception-handlers.c ****       " mrsne r0,psp    \n"
 489:../system/src/cortexm/exception-handlers.c ****       " mov r1,lr       \n"
 490:../system/src/cortexm/exception-handlers.c ****       " ldr r2,=BusFault_Handler_C \n"
 491:../system/src/cortexm/exception-handlers.c ****       " bx r2"
 492:../system/src/cortexm/exception-handlers.c **** 
 493:../system/src/cortexm/exception-handlers.c ****       : /* Outputs */
 494:../system/src/cortexm/exception-handlers.c ****       : /* Inputs */
 495:../system/src/cortexm/exception-handlers.c ****       : /* Clobbers */
 496:../system/src/cortexm/exception-handlers.c ****   );
 497:../system/src/cortexm/exception-handlers.c **** }
 560              		.loc 1 497 1 is_stmt 0 view .LVU99
 561              		.thumb
 562              		.syntax unified
 563              		.cfi_endproc
 564              	.LFE65:
 566              		.section	.rodata.str1.4
 567 000d 000000   		.align	2
 568              	.LC19:
 569 0010 5B427573 		.ascii	"[BusFault]\012\000"
 569      4661756C 
 569      745D0A00 
 570              		.section	.after_vectors
 571              		.align	1
 572              		.weak	BusFault_Handler_C
 573              		.syntax unified
 574              		.thumb
 575              		.thumb_func
 577              	BusFault_Handler_C:
 578              	.LVL45:
 579              	.LFB66:
 498:../system/src/cortexm/exception-handlers.c **** 
 499:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak,used))
 500:../system/src/cortexm/exception-handlers.c **** BusFault_Handler_C (ExceptionStackFrame* frame __attribute__((unused)),
 501:../system/src/cortexm/exception-handlers.c ****                     uint32_t lr __attribute__((unused)))
 502:../system/src/cortexm/exception-handlers.c **** {
 580              		.loc 1 502 1 is_stmt 1 view -0
 581              		.cfi_startproc
 582              		@ args = 0, pretend = 0, frame = 0
 583              		@ frame_needed = 0, uses_anonymous_args = 0
 584              		.loc 1 502 1 is_stmt 0 view .LVU101
 585 0094 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 586              		.cfi_def_cfa_offset 24
 587              		.cfi_offset 4, -24
 588              		.cfi_offset 5, -20
 589              		.cfi_offset 6, -16
 590              		.cfi_offset 7, -12
 591              		.cfi_offset 8, -8
 592              		.cfi_offset 14, -4
 593 0098 82B0     		sub	sp, sp, #8
 594              		.cfi_def_cfa_offset 32
 595 009a 0446     		mov	r4, r0
 596 009c 0D46     		mov	r5, r1
 503:../system/src/cortexm/exception-handlers.c **** #if defined(TRACE)
 504:../system/src/cortexm/exception-handlers.c ****   uint32_t mmfar = SCB->MMFAR; // MemManage Fault Address
 597              		.loc 1 504 3 is_stmt 1 view .LVU102
 598              		.loc 1 504 12 is_stmt 0 view .LVU103
 599 009e 084B     		ldr	r3, .L34
 600 00a0 5F6B     		ldr	r7, [r3, #52]
 601              	.LVL46:
 505:../system/src/cortexm/exception-handlers.c ****   uint32_t bfar = SCB->BFAR; // Bus Fault Address
 602              		.loc 1 505 3 is_stmt 1 view .LVU104
 603              		.loc 1 505 12 is_stmt 0 view .LVU105
 604 00a2 D3F83880 		ldr	r8, [r3, #56]
 605              	.LVL47:
 506:../system/src/cortexm/exception-handlers.c ****   uint32_t cfsr = SCB->CFSR; // Configurable Fault Status Registers
 606              		.loc 1 506 3 is_stmt 1 view .LVU106
 607              		.loc 1 506 12 is_stmt 0 view .LVU107
 608 00a6 9E6A     		ldr	r6, [r3, #40]
 609              	.LVL48:
 507:../system/src/cortexm/exception-handlers.c **** 
 508:../system/src/cortexm/exception-handlers.c ****   trace_printf ("[BusFault]\n");
 610              		.loc 1 508 3 is_stmt 1 view .LVU108
 611 00a8 0648     		ldr	r0, .L34+4
 612              	.LVL49:
 613              		.loc 1 508 3 is_stmt 0 view .LVU109
 614 00aa FFF7FEFF 		bl	trace_printf
 615              	.LVL50:
 509:../system/src/cortexm/exception-handlers.c ****   dumpExceptionStack (frame, cfsr, mmfar, bfar, lr);
 616              		.loc 1 509 3 is_stmt 1 view .LVU110
 617 00ae 0095     		str	r5, [sp]
 618 00b0 4346     		mov	r3, r8
 619 00b2 3A46     		mov	r2, r7
 620 00b4 3146     		mov	r1, r6
 621 00b6 2046     		mov	r0, r4
 622 00b8 FFF7FEFF 		bl	dumpExceptionStack
 623              	.LVL51:
 510:../system/src/cortexm/exception-handlers.c **** #endif // defined(TRACE)
 511:../system/src/cortexm/exception-handlers.c **** 
 512:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
 513:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
 624              		.loc 1 513 3 view .LVU111
 625              		.syntax unified
 626              	@ 513 "../system/src/cortexm/exception-handlers.c" 1
 627 00bc 00BE     		bkpt 0
 628              	@ 0 "" 2
 629              		.thumb
 630              		.syntax unified
 631              	.L32:
 514:../system/src/cortexm/exception-handlers.c **** #endif
 515:../system/src/cortexm/exception-handlers.c ****   while (1)
 632              		.loc 1 515 3 discriminator 1 view .LVU112
 516:../system/src/cortexm/exception-handlers.c ****     {
 517:../system/src/cortexm/exception-handlers.c ****     }
 633              		.loc 1 517 5 discriminator 1 view .LVU113
 515:../system/src/cortexm/exception-handlers.c ****     {
 634              		.loc 1 515 9 discriminator 1 view .LVU114
 635 00be FEE7     		b	.L32
 636              	.L35:
 637              		.align	2
 638              	.L34:
 639 00c0 00ED00E0 		.word	-536810240
 640 00c4 10000000 		.word	.LC19
 641              		.cfi_endproc
 642              	.LFE66:
 644              		.align	1
 645              		.weak	UsageFault_Handler
 646              		.syntax unified
 647              		.thumb
 648              		.thumb_func
 650              	UsageFault_Handler:
 651              	.LFB67:
 518:../system/src/cortexm/exception-handlers.c **** }
 519:../system/src/cortexm/exception-handlers.c **** 
 520:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak,naked))
 521:../system/src/cortexm/exception-handlers.c **** UsageFault_Handler (void)
 522:../system/src/cortexm/exception-handlers.c **** {
 652              		.loc 1 522 1 view -0
 653              		.cfi_startproc
 654              		@ Naked Function: prologue and epilogue provided by programmer.
 655              		@ args = 0, pretend = 0, frame = 0
 656              		@ frame_needed = 0, uses_anonymous_args = 0
 523:../system/src/cortexm/exception-handlers.c ****   asm volatile(
 657              		.loc 1 523 3 view .LVU116
 658              		.syntax unified
 659              	@ 523 "../system/src/cortexm/exception-handlers.c" 1
 660 00c8 1EF0040F 		 tst lr,#4       
 661 00cc 0CBF     	 ite eq          
 662 00ce EFF30880 	 mrseq r0,msp    
 663 00d2 EFF30980 	 mrsne r0,psp    
 664 00d6 7146     	 mov r1,lr       
 665 00d8 134A     	 ldr r2,=UsageFault_Handler_C 
 666 00da 1047     	 bx r2
 667              	@ 0 "" 2
 524:../system/src/cortexm/exception-handlers.c ****       " tst lr,#4       \n"
 525:../system/src/cortexm/exception-handlers.c ****       " ite eq          \n"
 526:../system/src/cortexm/exception-handlers.c ****       " mrseq r0,msp    \n"
 527:../system/src/cortexm/exception-handlers.c ****       " mrsne r0,psp    \n"
 528:../system/src/cortexm/exception-handlers.c ****       " mov r1,lr       \n"
 529:../system/src/cortexm/exception-handlers.c ****       " ldr r2,=UsageFault_Handler_C \n"
 530:../system/src/cortexm/exception-handlers.c ****       " bx r2"
 531:../system/src/cortexm/exception-handlers.c **** 
 532:../system/src/cortexm/exception-handlers.c ****       : /* Outputs */
 533:../system/src/cortexm/exception-handlers.c ****       : /* Inputs */
 534:../system/src/cortexm/exception-handlers.c ****       : /* Clobbers */
 535:../system/src/cortexm/exception-handlers.c ****   );
 536:../system/src/cortexm/exception-handlers.c **** }
 668              		.loc 1 536 1 is_stmt 0 view .LVU117
 669              		.thumb
 670              		.syntax unified
 671              		.cfi_endproc
 672              	.LFE67:
 674              		.section	.rodata.str1.4
 675              		.align	2
 676              	.LC20:
 677 001c 5B557361 		.ascii	"[UsageFault]\012\000"
 677      67654661 
 677      756C745D 
 677      0A00
 678              		.section	.after_vectors
 679              		.align	1
 680              		.weak	UsageFault_Handler_C
 681              		.syntax unified
 682              		.thumb
 683              		.thumb_func
 685              	UsageFault_Handler_C:
 686              	.LVL52:
 687              	.LFB68:
 537:../system/src/cortexm/exception-handlers.c **** 
 538:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak,used))
 539:../system/src/cortexm/exception-handlers.c **** UsageFault_Handler_C (ExceptionStackFrame* frame __attribute__((unused)),
 540:../system/src/cortexm/exception-handlers.c ****                       uint32_t lr __attribute__((unused)))
 541:../system/src/cortexm/exception-handlers.c **** {
 688              		.loc 1 541 1 is_stmt 1 view -0
 689              		.cfi_startproc
 690              		@ args = 0, pretend = 0, frame = 0
 691              		@ frame_needed = 0, uses_anonymous_args = 0
 692              		.loc 1 541 1 is_stmt 0 view .LVU119
 693 00dc 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 694              		.cfi_def_cfa_offset 24
 695              		.cfi_offset 4, -24
 696              		.cfi_offset 5, -20
 697              		.cfi_offset 6, -16
 698              		.cfi_offset 7, -12
 699              		.cfi_offset 8, -8
 700              		.cfi_offset 14, -4
 701 00e0 82B0     		sub	sp, sp, #8
 702              		.cfi_def_cfa_offset 32
 703 00e2 0446     		mov	r4, r0
 704 00e4 0D46     		mov	r5, r1
 542:../system/src/cortexm/exception-handlers.c **** #if defined(TRACE)
 543:../system/src/cortexm/exception-handlers.c ****   uint32_t mmfar = SCB->MMFAR; // MemManage Fault Address
 705              		.loc 1 543 3 is_stmt 1 view .LVU120
 706              		.loc 1 543 12 is_stmt 0 view .LVU121
 707 00e6 084B     		ldr	r3, .L40
 708 00e8 5F6B     		ldr	r7, [r3, #52]
 709              	.LVL53:
 544:../system/src/cortexm/exception-handlers.c ****   uint32_t bfar = SCB->BFAR; // Bus Fault Address
 710              		.loc 1 544 3 is_stmt 1 view .LVU122
 711              		.loc 1 544 12 is_stmt 0 view .LVU123
 712 00ea D3F83880 		ldr	r8, [r3, #56]
 713              	.LVL54:
 545:../system/src/cortexm/exception-handlers.c ****   uint32_t cfsr = SCB->CFSR; // Configurable Fault Status Registers
 714              		.loc 1 545 3 is_stmt 1 view .LVU124
 715              		.loc 1 545 12 is_stmt 0 view .LVU125
 716 00ee 9E6A     		ldr	r6, [r3, #40]
 717              	.LVL55:
 546:../system/src/cortexm/exception-handlers.c **** #endif
 547:../system/src/cortexm/exception-handlers.c **** 
 548:../system/src/cortexm/exception-handlers.c **** #if defined(OS_DEBUG_SEMIHOSTING_FAULTS)
 549:../system/src/cortexm/exception-handlers.c **** 
 550:../system/src/cortexm/exception-handlers.c ****   if ((cfsr & (1UL << 16)) != 0) // UNDEFINSTR
 551:../system/src/cortexm/exception-handlers.c ****     {
 552:../system/src/cortexm/exception-handlers.c ****       // For testing purposes, instead of BKPT use 'setend be'.
 553:../system/src/cortexm/exception-handlers.c ****       if (isSemihosting (frame, AngelSWITestFaultOpCode))
 554:../system/src/cortexm/exception-handlers.c ****         {
 555:../system/src/cortexm/exception-handlers.c ****           return;
 556:../system/src/cortexm/exception-handlers.c ****         }
 557:../system/src/cortexm/exception-handlers.c ****     }
 558:../system/src/cortexm/exception-handlers.c **** 
 559:../system/src/cortexm/exception-handlers.c **** #endif
 560:../system/src/cortexm/exception-handlers.c **** 
 561:../system/src/cortexm/exception-handlers.c **** #if defined(TRACE)
 562:../system/src/cortexm/exception-handlers.c ****   trace_printf ("[UsageFault]\n");
 718              		.loc 1 562 3 is_stmt 1 view .LVU126
 719 00f0 0648     		ldr	r0, .L40+4
 720              	.LVL56:
 721              		.loc 1 562 3 is_stmt 0 view .LVU127
 722 00f2 FFF7FEFF 		bl	trace_printf
 723              	.LVL57:
 563:../system/src/cortexm/exception-handlers.c ****   dumpExceptionStack (frame, cfsr, mmfar, bfar, lr);
 724              		.loc 1 563 3 is_stmt 1 view .LVU128
 725 00f6 0095     		str	r5, [sp]
 726 00f8 4346     		mov	r3, r8
 727 00fa 3A46     		mov	r2, r7
 728 00fc 3146     		mov	r1, r6
 729 00fe 2046     		mov	r0, r4
 730 0100 FFF7FEFF 		bl	dumpExceptionStack
 731              	.LVL58:
 564:../system/src/cortexm/exception-handlers.c **** #endif // defined(TRACE)
 565:../system/src/cortexm/exception-handlers.c **** 
 566:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
 567:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
 732              		.loc 1 567 3 view .LVU129
 733              		.syntax unified
 734              	@ 567 "../system/src/cortexm/exception-handlers.c" 1
 735 0104 00BE     		bkpt 0
 736              	@ 0 "" 2
 737              		.thumb
 738              		.syntax unified
 739              	.L38:
 568:../system/src/cortexm/exception-handlers.c **** #endif
 569:../system/src/cortexm/exception-handlers.c ****   while (1)
 740              		.loc 1 569 3 discriminator 1 view .LVU130
 570:../system/src/cortexm/exception-handlers.c ****     {
 571:../system/src/cortexm/exception-handlers.c ****     }
 741              		.loc 1 571 5 discriminator 1 view .LVU131
 569:../system/src/cortexm/exception-handlers.c ****     {
 742              		.loc 1 569 9 discriminator 1 view .LVU132
 743 0106 FEE7     		b	.L38
 744              	.L41:
 745              		.align	2
 746              	.L40:
 747 0108 00ED00E0 		.word	-536810240
 748 010c 1C000000 		.word	.LC20
 749              		.cfi_endproc
 750              	.LFE68:
 752              		.align	1
 753              		.weak	SVC_Handler
 754              		.syntax unified
 755              		.thumb
 756              		.thumb_func
 758              	SVC_Handler:
 759              	.LFB69:
 572:../system/src/cortexm/exception-handlers.c **** }
 573:../system/src/cortexm/exception-handlers.c **** 
 574:../system/src/cortexm/exception-handlers.c **** #endif
 575:../system/src/cortexm/exception-handlers.c **** 
 576:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak))
 577:../system/src/cortexm/exception-handlers.c **** SVC_Handler (void)
 578:../system/src/cortexm/exception-handlers.c **** {
 760              		.loc 1 578 1 view -0
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 0
 763              		@ frame_needed = 0, uses_anonymous_args = 0
 764              		@ link register save eliminated.
 579:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
 580:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
 765              		.loc 1 580 3 view .LVU134
 766              		.syntax unified
 767              	@ 580 "../system/src/cortexm/exception-handlers.c" 1
 768 0110 00BE     		bkpt 0
 769              	@ 0 "" 2
 770              		.thumb
 771              		.syntax unified
 772              	.L43:
 581:../system/src/cortexm/exception-handlers.c **** #endif
 582:../system/src/cortexm/exception-handlers.c ****   while (1)
 773              		.loc 1 582 3 discriminator 1 view .LVU135
 583:../system/src/cortexm/exception-handlers.c ****     {
 584:../system/src/cortexm/exception-handlers.c ****     }
 774              		.loc 1 584 5 discriminator 1 view .LVU136
 582:../system/src/cortexm/exception-handlers.c ****     {
 775              		.loc 1 582 9 discriminator 1 view .LVU137
 776 0112 FEE7     		b	.L43
 777              		.cfi_endproc
 778              	.LFE69:
 780              		.align	1
 781              		.weak	DebugMon_Handler
 782              		.syntax unified
 783              		.thumb
 784              		.thumb_func
 786              	DebugMon_Handler:
 787              	.LFB70:
 585:../system/src/cortexm/exception-handlers.c **** }
 586:../system/src/cortexm/exception-handlers.c **** 
 587:../system/src/cortexm/exception-handlers.c **** #if defined(__ARM_ARCH_7M__) || defined(__ARM_ARCH_7EM__)
 588:../system/src/cortexm/exception-handlers.c **** 
 589:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak))
 590:../system/src/cortexm/exception-handlers.c **** DebugMon_Handler (void)
 591:../system/src/cortexm/exception-handlers.c **** {
 788              		.loc 1 591 1 view -0
 789              		.cfi_startproc
 790              		@ args = 0, pretend = 0, frame = 0
 791              		@ frame_needed = 0, uses_anonymous_args = 0
 792              		@ link register save eliminated.
 592:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
 593:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
 793              		.loc 1 593 3 view .LVU139
 794              		.syntax unified
 795              	@ 593 "../system/src/cortexm/exception-handlers.c" 1
 796 0114 00BE     		bkpt 0
 797              	@ 0 "" 2
 798              		.thumb
 799              		.syntax unified
 800              	.L45:
 594:../system/src/cortexm/exception-handlers.c **** #endif
 595:../system/src/cortexm/exception-handlers.c ****   while (1)
 801              		.loc 1 595 3 discriminator 1 view .LVU140
 596:../system/src/cortexm/exception-handlers.c ****     {
 597:../system/src/cortexm/exception-handlers.c ****     }
 802              		.loc 1 597 5 discriminator 1 view .LVU141
 595:../system/src/cortexm/exception-handlers.c ****     {
 803              		.loc 1 595 9 discriminator 1 view .LVU142
 804 0116 FEE7     		b	.L45
 805              		.cfi_endproc
 806              	.LFE70:
 808              		.align	1
 809              		.weak	PendSV_Handler
 810              		.syntax unified
 811              		.thumb
 812              		.thumb_func
 814              	PendSV_Handler:
 815              	.LFB71:
 598:../system/src/cortexm/exception-handlers.c **** }
 599:../system/src/cortexm/exception-handlers.c **** 
 600:../system/src/cortexm/exception-handlers.c **** #endif
 601:../system/src/cortexm/exception-handlers.c **** 
 602:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak))
 603:../system/src/cortexm/exception-handlers.c **** PendSV_Handler (void)
 604:../system/src/cortexm/exception-handlers.c **** {
 816              		.loc 1 604 1 view -0
 817              		.cfi_startproc
 818              		@ args = 0, pretend = 0, frame = 0
 819              		@ frame_needed = 0, uses_anonymous_args = 0
 820              		@ link register save eliminated.
 605:../system/src/cortexm/exception-handlers.c **** #if defined(DEBUG)
 606:../system/src/cortexm/exception-handlers.c ****   __DEBUG_BKPT();
 821              		.loc 1 606 3 view .LVU144
 822              		.syntax unified
 823              	@ 606 "../system/src/cortexm/exception-handlers.c" 1
 824 0118 00BE     		bkpt 0
 825              	@ 0 "" 2
 826              		.thumb
 827              		.syntax unified
 828              	.L47:
 607:../system/src/cortexm/exception-handlers.c **** #endif
 608:../system/src/cortexm/exception-handlers.c ****   while (1)
 829              		.loc 1 608 3 discriminator 1 view .LVU145
 609:../system/src/cortexm/exception-handlers.c ****     {
 610:../system/src/cortexm/exception-handlers.c ****     }
 830              		.loc 1 610 5 discriminator 1 view .LVU146
 608:../system/src/cortexm/exception-handlers.c ****     {
 831              		.loc 1 608 9 discriminator 1 view .LVU147
 832 011a FEE7     		b	.L47
 833              		.cfi_endproc
 834              	.LFE71:
 836              		.align	1
 837              		.weak	SysTick_Handler
 838              		.syntax unified
 839              		.thumb
 840              		.thumb_func
 842              	SysTick_Handler:
 843              	.LFB72:
 611:../system/src/cortexm/exception-handlers.c **** }
 612:../system/src/cortexm/exception-handlers.c **** 
 613:../system/src/cortexm/exception-handlers.c **** void __attribute__ ((section(".after_vectors"),weak))
 614:../system/src/cortexm/exception-handlers.c **** SysTick_Handler (void)
 615:../system/src/cortexm/exception-handlers.c **** {
 844              		.loc 1 615 1 view -0
 845              		.cfi_startproc
 846              		@ args = 0, pretend = 0, frame = 0
 847              		@ frame_needed = 0, uses_anonymous_args = 0
 848              		@ link register save eliminated.
 616:../system/src/cortexm/exception-handlers.c ****   // DO NOT loop, just return.
 617:../system/src/cortexm/exception-handlers.c ****   // Useful in case someone (like STM HAL) inadvertently enables SysTick.
 618:../system/src/cortexm/exception-handlers.c ****   ;
 849              		.loc 1 618 3 view .LVU149
 619:../system/src/cortexm/exception-handlers.c **** }
 850              		.loc 1 619 1 is_stmt 0 view .LVU150
 851 011c 7047     		bx	lr
 852              		.cfi_endproc
 853              	.LFE72:
 855              		.weak	_start
 856 011e 0000     		.text
 857              	.Letext0:
 858              		.file 2 "c:\\users\\dmitriy\\appdata\\roaming\\xpacks\\@xpack-dev-tools\\arm-none-eabi-gcc\\12.3.1
 859              		.file 3 "../system/inc/cortexm/exception-handlers.h"
 860              		.file 4 "../system/inc/cmsis/core_cm3.h"
 861              		.file 5 "../system/inc/arm/semihosting.h"
 862              		.file 6 "../system/inc/diag/trace.h"
DEFINED SYMBOLS
                            *ABS*:00000000 exception-handlers.c
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:19     .after_vectors:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:25     .after_vectors:00000000 Reset_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:48     .after_vectors:00000006 NMI_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:71     .rodata.dumpExceptionStack.str1.4:00000000 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:126    .text.dumpExceptionStack:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:132    .text.dumpExceptionStack:00000000 dumpExceptionStack
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:270    .text.dumpExceptionStack:000000a8 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:293    .text.isSemihosting:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:299    .text.isSemihosting:00000000 isSemihosting
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:369    .after_vectors:0000000a HardFault_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:404    .after_vectors:0000001e HardFault_Handler_C
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:394    .rodata.str1.4:00000000 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:503    .after_vectors:00000074 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:508    .after_vectors:0000007c $t
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:514    .after_vectors:0000007c MemManage_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:542    .after_vectors:00000080 BusFault_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:577    .after_vectors:00000094 BusFault_Handler_C
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:639    .after_vectors:000000c0 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:644    .after_vectors:000000c8 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:650    .after_vectors:000000c8 UsageFault_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:685    .after_vectors:000000dc UsageFault_Handler_C
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:747    .after_vectors:00000108 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:752    .after_vectors:00000110 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:758    .after_vectors:00000110 SVC_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:786    .after_vectors:00000114 DebugMon_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:814    .after_vectors:00000118 PendSV_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:842    .after_vectors:0000011c SysTick_Handler
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:856    .after_vectors:0000011e $d
C:\Users\Dmitriy\AppData\Local\Temp\ccLJvigg.s:31403  .after_vectors:00000120 $d
                           .group:00000000 wm4.0.3ac34e011645c1b8d95761511e5c0518
                           .group:00000000 wm4.stdintgcc.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:00000000 wm4.gd32f10x.h.39.34aa79a68d44b3fc31805fff8eeec626
                           .group:00000000 wm4.core_cm3.h.47.f403a0b1a9e3f5bd328e41f4fa5fc23b
                           .group:00000000 wm4.core_cmInstr.h.39.c66a1c911732cf6be44e58f2bee25308
                           .group:00000000 wm4.core_cm3.h.155.db3dfdf4b365cc230a717221b218ddd5
                           .group:00000000 wm4.gd32f10x.h.320.528bbe72ec64ad23b6e5473e267247b4
                           .group:00000000 wm4.gd32f10x_adc.h.44.619483e99e32c90a5f7c6ed512bbf95b
                           .group:00000000 wm4.gd32f10x_bkp.h.39.4da6e92b74c7310fa25e26e16145cf9d
                           .group:00000000 wm4.gd32f10x_can.h.41.99143e9b2de50f71c3392eea2d9e706b
                           .group:00000000 wm4.gd32f10x_crc.h.39.4c0c7ace19ba22146d7643de7dde24e0
                           .group:00000000 wm4.gd32f10x_dac.h.39.a3dd044652013a67f3cc1bbd4333b1f5
                           .group:00000000 wm4.gd32f10x_dma.h.40.e0e420e6b56a4398ac3aa49fe3f1eb37
                           .group:00000000 wm4.ieeefp.h.77.0ee3146e9d892bb10bc0066c30189af1
                           .group:00000000 wm4._newlib_version.h.4.6d111ab2e95434b664b53815e5c8ccba
                           .group:00000000 wm4.newlib.h.27.d4bf77c18f14f545101dac22f0b54118
                           .group:00000000 wm4.features.h.22.7877b139107948f7dadcf3660cc79cfd
                           .group:00000000 wm4.config.h.224.10ee1ad185d877c6e334e6581faab44d
                           .group:00000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:00000000 wm4.stdlib.h.13.4ed386f5c1a80d71e72172885d946ef2
                           .group:00000000 wm4.stddef.h.185.882514a1a6169ceba9142f401cbe27c6
                           .group:00000000 wm4.stddef.h.39.f07083f9b666a9e5c52a336c758fdd72
                           .group:00000000 wm4._types.h.20.dd0d04dca3800a0d2a6129b87f3adbb2
                           .group:00000000 wm4.stddef.h.158.5f30652bb2ea05b142c1bbee9108c999
                           .group:00000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:00000000 wm4._types.h.127.3bdfe3ff8ea2d0985b03d9cbe93480e3
                           .group:00000000 wm4.reent.h.17.e292bf8b0bec6c96e131a54347145a30
                           .group:00000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:00000000 wm4.reent.h.77.89f7dde66c62b1f1dee32bdb6ab2d544
                           .group:00000000 wm4.cdefs.h.49.f93868eb904b9ca05b5c0257d31128ca
                           .group:00000000 wm4.alloca.h.8.dfc0c703c47ec3e69746825b17d9e66d
                           .group:00000000 wm4.stdlib.h.56.f4862cfbf4363a1db01842d5bdf72c18
                           .group:00000000 wm4.gd32f10x_enet.h.44.638fb20a727f17a9f45c8bef0e4dc155
                           .group:00000000 wm4.gd32f10x_exmc.h.39.cd31f13ab884fb77a3b2d0dd19135c79
                           .group:00000000 wm4.gd32f10x_exti.h.39.f641ba5efef75aed967e0eca0d908b22
                           .group:00000000 wm4.gd32f10x_fmc.h.39.7e6aa836f91030dd1ff3782a069962bf
                           .group:00000000 wm4.gd32f10x_gpio.h.39.80b4d0c5aa2b4bb9a76b4f0ed7eb4f37
                           .group:00000000 wm4.gd32f10x_i2c.h.40.8897e5891a1cbe807de60657ffffdeb4
                           .group:00000000 wm4.gd32f10x_fwdgt.h.39.98d7bcc523d52c51b47267d3aa630510
                           .group:00000000 wm4.gd32f10x_dbg.h.40.7f011e3bfaf652db4fef79974773282c
                           .group:00000000 wm4.gd32f10x_misc.h.39.02269a148ed2e3625e137e1efd69eb5b
                           .group:00000000 wm4.gd32f10x_pmu.h.39.74926372d4607639ac6680132fe98aa1
                           .group:00000000 wm4.gd32f10x_rcu.h.39.8a90a017c64bad5f5bd02c211060734d
                           .group:00000000 wm4.gd32f10x_rtc.h.39.8a002d392eec882fcd681ea51f1c73a0
                           .group:00000000 wm4.gd32f10x_sdio.h.39.f2faa8e3b059e0ddee4e4ee996fe3269
                           .group:00000000 wm4.gd32f10x_spi.h.39.902664de8fc67c732b453548a8b810bf
                           .group:00000000 wm4.gd32f10x_timer.h.39.bb5f06befe0b01a2e83ec1dec4ea7722
                           .group:00000000 wm4.gd32f10x_usart.h.39.77325e272b5abf9a7b4cf37f2c34644a
                           .group:00000000 wm4.gd32f10x_wwdgt.h.39.3fa1c00ac1b6c8ed1fb1e9f65bb3835a
                           .group:00000000 wm4.semihosting.h.29.e1653dbea6634b93ff8fe25df9a0d7b2
                           .group:00000000 wm4.unistd.h.2.39165d5b7784d1815ef4b0c4be6df560
                           .group:00000000 wm4.types.h.40.8b6acba56cefbb11746718204edc8f5e
                           .group:00000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:00000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:00000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
                           .group:00000000 wm4._timeval.h.32.bec3221fa7a9bb0bdde696c9c57e47d2
                           .group:00000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:00000000 wm4.select.h.19.8f92964f85316d866d3bb193a38b5ac3
                           .group:00000000 wm4.types.h.51.e2a6e4379b4797ffcc4841f8498fd61b
                           .group:00000000 wm4.sched.h.22.c60982713a5c428609783c78f9c78d95
                           .group:00000000 wm4._pthreadtypes.h.36.fcee9961c35163dde6267ef772ad1972
                           .group:00000000 wm4.stddef.h.158.bfed30416c9480cd13bc4a25427d538f
                           .group:00000000 wm4.unistd.h.160.695186b56110851f30a6820c3f9a9999
                           .group:00000000 wm4.string.h.8.c4b8571ce60dff2817f43fec8b86aecd

UNDEFINED SYMBOLS
_start
trace_printf
